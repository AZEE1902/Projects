;/*FB_PKG_DELIM*/

__d("WAWebWamEnumChatActionChatType",[],(function(a,b,c,d,e,f){a=Object.freeze({INDIVIDUAL:1,GROUP:2,BUSINESS:3,BROADCAST_LIST:4});f.CHAT_ACTION_CHAT_TYPE=a}),66);
__d("WAWebWamEnumChatActionEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CONVERSATION_LIST:1,CONTACT_INFO:2,GROUP_INFO:3,SEARCH_LIST:4,CONVERSATION_LIST_BULK_EDIT:5,CONVERSATION_MENU:6,WEB_ACTION:7,SYSTEM_NOTIFICATIONS:8});f.CHAT_ACTION_ENTRY_POINT=a}),66);
__d("WAWebWamEnumChatActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({MUTE:1,UNMUTE:2,ARCHIVE:3,CLEAR:4,EXIT_GROUP:5,DELETE:6,PIN:7,UNREAD:8,READ:9});f.CHAT_ACTION_TYPE=a}),66);
__d("WAWebChatActionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatActionChatType","WAWebWamEnumChatActionEntryPoint","WAWebWamEnumChatActionType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({ChatAction:[2312,{chatActionChatType:[3,d("WAWebWamEnumChatActionChatType").CHAT_ACTION_CHAT_TYPE],chatActionEntryPoint:[2,d("WAWebWamEnumChatActionEntryPoint").CHAT_ACTION_ENTRY_POINT],chatActionMuteDuration:[4,d("WAWebWamCodegenUtils").TYPES.TIMER],chatActionType:[1,d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE]},[1,1,1],"regular"]});g.ChatActionWamEvent=a}),98);
__d("WAWebWamChatActionEventsLogger",["WAWebABProps","WAWebChatActionWamEvent"],(function(a,b,c,d,e,f,g){function a(a){if(!d("WAWebABProps").getABPropConfigValue("enable_logging_multi_select_from_chat_list"))return;var b=a.chatActionEntryPoint;a=a.chatActionType;new(d("WAWebChatActionWamEvent").ChatActionWamEvent)({chatActionEntryPoint:b,chatActionType:a}).commit()}g.logChatActionEvent=a}),98);
__d("WAWebWamEnumKicActionNameType",[],(function(a,b,c,d,e,f){a=Object.freeze({KEEP_MESSAGE:1,UNKEEP_MESSAGE:2,VIEW_KEPT_MESSAGES:3,SEARCH_RESULTS_DISPLAY:4,SEARCH_RESULTS_TAP:5});f.KIC_ACTION_NAME_TYPE=a}),66);
__d("WAWebWamEnumKicActorType",[],(function(a,b,c,d,e,f){a=Object.freeze({SENDER:1,RECIPIENT:2});f.KIC_ACTOR_TYPE=a}),66);
__d("WAWebWamEnumKicEntryPointType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT_INFO:1,SEARCH:2,CHAT:3,MEDIA:4,DOCS:5,LINKS:6});f.KIC_ENTRY_POINT_TYPE=a}),66);
__d("WAWebWamEnumWebcButterbarActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:1,CLICK_CTA:2,CLICK_DISMISS:3,AUTO_DISMISS:4});f.WEBC_BUTTERBAR_ACTION_TYPE=a}),66);
__d("WAWebWamEnumWebcButterbarBbType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,RESUME_CONNECTING:2,RESUME_LOADING_MSGS_PROGRESS:3,UPDATE_DUE_TO_SOFT_MIN:4,UWP_UPSELL:5,NOTIFICATION:6,OFFLINE_NOTIFICATION:7});f.WEBC_BUTTERBAR_BB_TYPE=a}),66);
__d("WAWebChatFolderOpenWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({ChatFolderOpen:[2808,{activityIndicatorCount:[2,a.TYPES.INTEGER],folderType:[1,a.TYPES.STRING],hasImportantMessages:[3,a.TYPES.BOOLEAN]},[1,1,1],"regular"]});g.ChatFolderOpenWamEvent=b}),98);
__d("WAWebDisappearingMessageKeepInChatWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumKicActionNameType","WAWebWamEnumKicActorType","WAWebWamEnumKicEntryPointType","WAWebWamEnumMediaType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({DisappearingMessageKeepInChat:[3482,{canEditDmSettings:[16,a.TYPES.BOOLEAN],chatEphemeralityDuration:[1,a.TYPES.INTEGER],isAGroup:[2,a.TYPES.BOOLEAN],isAdmin:[3,a.TYPES.BOOLEAN],keptCount:[15,a.TYPES.INTEGER],keptDelta:[4,a.TYPES.INTEGER],kicActionName:[5,d("WAWebWamEnumKicActionNameType").KIC_ACTION_NAME_TYPE],kicActor:[6,d("WAWebWamEnumKicActorType").KIC_ACTOR_TYPE],kicEntryPoint:[7,d("WAWebWamEnumKicEntryPointType").KIC_ENTRY_POINT_TYPE],mediaType:[8,d("WAWebWamEnumMediaType").MEDIA_TYPE],messageExpiredOnUnkeep:[9,a.TYPES.BOOLEAN],messageExpiryTimer:[10,a.TYPES.INTEGER],messagesInFolder:[11,a.TYPES.INTEGER],messagesSelected:[12,a.TYPES.INTEGER],threadId:[13,a.TYPES.STRING]},[1,1,1],"regular"]});g.DisappearingMessageKeepInChatWamEvent=b}),98);
__d("WAWebWebcButterbarEventWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcButterbarActionType","WAWebWamEnumWebcButterbarBbType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebcButterbarEvent:[3932,{webcButterbarAction:[1,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE],webcButterbarType:[2,d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE]},[1,1,1],"regular"]});g.WebcButterbarEventWamEvent=a}),98);
__d("WAWebChatlistPanelDrawerButton.react",["WAWebCellBorder.react","WAWebCellFrame.react","WAWebFlex.react","react","stylex","useWAWebFocusState"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={icon:{width:"x1ksvy6g",height:"x1009pqg",color:"x12nr8rf",$$css:!0},wrapper:{flexShrink:"x2lah0s",$$css:!0},focused:{borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"x1al7xzb",$$css:!0}};function a(a){var b=a.ariaLabel,e=a.dataTab,f=a.detail,g=a.icon,h=a.onClick;a=a.primary;var l=c("useWAWebFocusState")(),m=l[0];l=l[1];return j.jsxs(j.Fragment,{children:[j.jsx("button",{ref:m,"data-tab":e,className:(i||(i=c("stylex")))(k.wrapper,l&&k.focused),onClick:h,"aria-label":b,children:j.jsx(c("WAWebCellFrame.react"),{role:"group",ariaColIndex:null,image:j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",className:"x1ksvy6g x1009pqg x12nr8rf",children:g}),primary:a,detail:f,theme:"archive-panel"})}),j.jsx(c("WAWebCellBorder.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBlockChatMenuItem.react.js",["fbt","WAWebABProps","WAWebBlockContactUtils","WAWebBlocklistCollection","WAWebContactGetters","WAWebWDSMenuItems.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){var b=a.chat,c=a.entryPoint;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat","entryPoint"]);if(!d("WAWebABProps").getABPropConfigValue("block_from_chat_list")||!b.isUser||d("WAWebContactGetters").getIsMe(b.contact)||b.contact.isEnterprise)return;var e=d("WAWebBlocklistCollection").BlocklistCollection.get(b.id);function f(){e?d("WAWebBlockContactUtils").handleUnblock(b.contact,c):d("WAWebBlockContactUtils").handleBlock(b,c)}return j.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({testid:void 0,optionId:"block"},a,{onSelect:f,primary:e?h._("__JHASH__tdOp5HiDdbe__JHASH__"):h._("__JHASH__vCk0N4csUIK__JHASH__")}))}a.displayName=a.name+" [from "+f.id+"]";g.BlockChatMenuItem=a}),98);
__d("WAWebChatDebugCopyIdMenuItem.react.js",["WAWebCopyText","WAWebDevOnlyBadge.react","WAWebWDSMenuItems.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.chat;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat"]);if(c("gkx")("26258"))return;var e=b.kind!=null?b.kind:"chat";return i.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({testid:void 0,optionId:"copy-id"},a,{onSelect:function(){return c("WAWebCopyText")(b.id.toString())},primary:i.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:"Copy "+e+" ID"})}))}a.displayName=a.name+" [from "+f.id+"]";g.CopyChatIdMenuItem=a}),98);
__d("useWAWebHover",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=j(!1),c=b[0],d=b[1];i(function(){var b=a.current;if(!b)return;var c=function(){d(!0)},e=function(){d(!1)};b.addEventListener("mouseenter",c);b.addEventListener("mouseleave",e);return function(){b.removeEventListener("mouseenter",c),b.removeEventListener("mouseleave",e)}},[a]);return c}g.useWAWebHover=a}),98);
__d("WAWebWDSChatCell.react",["WAWebChatIcons.react","WAWebChatTimestamp.react","WAWebChatstateInfo.react","WAWebChevronDownAltIcon","WAWebCommunityGatingUtils","WAWebContactGetters","WAWebDetailImage.react","WAWebErrorBoundary.react","WAWebFlexBox.react","WAWebGroupChatImage.react","WAWebName.react","WAWebPopover.react","WAWebPopoverContext.react","WAWebSettingsModel","WAWebStackedCirclesImage.react","WAWebSvgComponentBase","WAWebVelocityTransition","WAWebWDSCell.react","WAWebWDSDropdown.react","WAWebWDSText.react","react","useWAWebHover","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useRef,l=b.useState;function a(a){var b=a.chat;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat"]);var e=a.forceActive,f=a.useShortName,g=a.showMessageYourselfName;g=g===void 0?!1:g;var h=a.hideArchivedIcon;h=h===void 0?!1:h;var i=a.hideMuteIcon;i=i===void 0?!1:i;var m=a.showCommunityInfo;m=m===void 0?!1:m;var n=a.showSpeakerForCag;n=n===void 0?!1:n;var o=a.contextMenuItems;a=babelHelpers.objectWithoutPropertiesLoose(a,["forceActive","useShortName","showMessageYourselfName","hideArchivedIcon","hideMuteIcon","showCommunityInfo","showSpeakerForCag","contextMenuItems"]);d("useWAWebModelValues").useModelValues(b,["unreadCount"]);var p=k(null),q=d("WAWebPopoverContext.react").useWDSPopoverControllerRef(),r=d("useWAWebHover").useWAWebHover(p),s=l(!1),t=s[0],u=s[1];s=e===!0||a.active;b.isGroup?e=j.jsx(d("WAWebName.react").Name,{chat:b,useShortName:f,showLabel:!0,titlify:!0,ellipsify:!0,showMessageYourselfName:g}):e=j.jsx(d("WAWebName.react").Name,{contact:b.contact,useShortName:f,showBusinessCheckmark:d("WAWebContactGetters").getShowBusinessCheckmarkAsPrimary(b.contact),showLabel:!0,titlify:!0,ellipsify:!0,you:!0,showMessageYourselfName:g});var v;f=m===!0&&d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(b.groupMetadata);if(f){f=(g=b.groupMetadata)==null?void 0:g.getParentGroupChat();f!=null&&(v=j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:j.jsx(d("WAWebName.react").Name,{chat:f,titlify:!0,ellipsify:!0})}))}g=j.jsx(d("WAWebWDSText.react").WDSTextTitle,{children:e});f=j.jsx(d("WAWebWDSText.react").WDSTextMuted,{children:j.jsx(c("WAWebChatstateInfo.react"),{chat:b})});e=40;var w=j.jsx(d("WAWebDetailImage.react").DetailImage,{id:b.id,size:e,waitIdle:!0});n=b.isGroup?j.jsx(c("WAWebGroupChatImage.react"),{chat:b,regularChatImage:w,showSpeakerForCag:n,showCommunityInfo:m,isHovered:r,size:e,theme:d("WAWebStackedCirclesImage.react").SubgroupImageTheme.CHAT_LIST}):w;m=j.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"chat-cell-image",children:n});e=j.jsx(d("WAWebWDSText.react").WDSTextSmall,{color:b.unreadCount?"teal":null,children:j.jsx(c("WAWebChatTimestamp.react"),{chat:b})});w=o!=null?j.jsx(d("WAWebWDSDropdown.react").WDSContextDropdownMenu,{anchorToMouseCoords:!0,minWidth:200,target:"context",alignment:d("WAWebPopover.react").PopoverAlignment.Start,position:d("WAWebPopover.react").PopoverPosition.End,children:o}):null;n=k(null);q=o!=null?j.jsx(d("WAWebWDSDropdown.react").WDSDropdownMenu,{controllerRef:q,minWidth:200,target:n,alignment:d("WAWebPopover.react").PopoverAlignment.Start,position:d("WAWebPopover.react").PopoverPosition.Bottom,onOpen:function(){return u(!0)},onClose:function(){return u(!1)},children:o}):null;o=t||r||a.active===!0;t=j.jsxs(d("WAWebFlexBox.react").FlexRow,{gap:8,align:"center",children:[j.jsx(d("WAWebChatIcons.react").Icons,{chat:b,mute:b.mute,settings:c("WAWebSettingsModel"),hideArchivedIcon:h,hideMuteIcon:i,unreadCount:b.unreadCount,unreadMentionIcon:b.hasUnreadMention}),q&&j.jsx(d("WAWebVelocityTransition").VelocityTransition,{nodeRef:n,transitionName:"pop-fast-chat","in":o,mountOnEnter:!0,unmountOnExit:!0,appear:!0,children:j.jsxs("button",{ref:n,children:[j.jsx(d("WAWebChevronDownAltIcon").ChevronDownAltIcon,{color:d("WAWebSvgComponentBase").SvgColorProp.SECONDARY}),q]})})]});v!=null?(r=e,h=t,i=null):(r=null,h=e,i=t);return j.jsx(d("WAWebWDSCell.react").WDSCell,babelHelpers["extends"]({ref:p},a,{active:s,primary:g,secondary:f,detailLeft:m,primaryRight:h,secondaryRight:i,detailTop:v,detailTopRight:r,alignPrimary:"start",dropdown:w}))}a.displayName=a.name+" [from "+f.id+"]";g.WDSChatCell=a}),98);
__d("WAWebChatListMenuItem.react",["WAWebCommunityGatingUtils","WAWebWDSChatCell.react","WAWebWDSMenuItem.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function j(a){return d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)&&((a=a.groupMetadata)==null?void 0:a.getParentGroupChat())!=null}function a(a,b){b=b||{};b=b.showCommunityInfo;b=b===void 0?!1:b;return{itemKey:a.id.toString(),height:b&&j(a)?88:72,chat:a}}e=i.forwardRef(b);function b(a,b){var c=a.chat,e=a.onSelect,f=a.optionId;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat","onSelect","optionId"]);var g=d("WAWebWDSMenuItem.react").useMenuItem(f),h=g.colorScheme,j=g.size,k=g.material,l=g.border;g=g.isActive;return i.jsx(d("WAWebWDSMenuItem.react").WDSMenuItem,{ref:b,onSelect:e,optionId:f,type:"action",children:i.jsx(d("WAWebWDSChatCell.react").WDSChatCell,babelHelpers["extends"]({chat:c,colorScheme:h,size:j,material:k,border:l,active:g},a))})}b.displayName=b.name+" [from "+f.id+"]";g.willAddParentGroupInfo=j;g.getFlatListConfigFromChat=a;g.ChatMenuItem=e}),98);
__d("WAWebChatLockMenuItem.react",["fbt","WAWebActionMenuItem.react","WAWebChatLockCodeModal.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){var c=a.chat;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){void d("WAWebChatLockCodeModal.react").promptAndUnlockChat(c)});return function(){return a.apply(this,arguments)}}();return j.jsx(d("WAWebActionMenuItem.react").ActionMenuItem,{optionId:"unlock",onSelect:a,primary:h._("__JHASH__oBj7hjzXqni__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var c=a.chat;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){void d("WAWebChatLockCodeModal.react").promptAndLockChat(c)});return function(){return a.apply(this,arguments)}}();return j.jsx(d("WAWebActionMenuItem.react").ActionMenuItem,{optionId:"lock",onSelect:a,primary:h._("__JHASH__sC77_5fpHJz__JHASH__")})}e.displayName=e.name+" [from "+f.id+"]";g.UnlockChatMenuItem=a;g.LockChatMenuItem=e}),98);
__d("WAWebChatMarkUnreadMenuItem.react.js",["fbt","WAWebCmd","WAWebStateUtils","WAWebWDSMenuItems.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){var b=a.chat;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat"]);var c=d("useWAWebModelValues").useModelValues(b,["unreadCount","isGroup","groupMetadata"]),e=Boolean(c.unreadCount);function f(){d("WAWebCmd").Cmd.markChatUnread(d("WAWebStateUtils").unproxy(c),!e);if(e&&c.isGroup){var a;(a=c.groupMetadata)==null?void 0:a.unreadMentionMetadata.reset()}}return j.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({testid:void 0,optionId:"mark-unread"},a,{onSelect:f,primary:e?h._("__JHASH__ZefBbIHdFLd__JHASH__"):h._("__JHASH__lZZr2IbcJK___JHASH__")}))}a.displayName=a.name+" [from "+f.id+"]";g.MarkUnreadMenuItem=a}),98);
__d("WAWebChatMuteMenuItem.react.js",["fbt","WAWebActionMenuItem.react","WAWebCmd","WAWebMuteGetters","WAWebStateUtils","react","useWAWebModelValues","useWAWebMuteValues"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef;function a(a){var b=a.chat,c=a.entryPoint;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat","entryPoint"]);var e=d("useWAWebMuteValues").useMuteValues(b.mute.id,[d("WAWebMuteGetters").getIsMuted]),f=e[0],g=d("useWAWebModelValues").useModelValues(b,["archive","mute","isLocked"]);e=l(null);if(!g.mute.canMute()||g.archive)return;function i(){var a=!f;c!=null?d("WAWebCmd").Cmd.muteChatFromEntryPoint(d("WAWebStateUtils").unproxy(g),a,c):d("WAWebCmd").Cmd.muteChat(d("WAWebStateUtils").unproxy(g),a)}b=f?h._("__JHASH__jHMH-cp69hU__JHASH__"):h._("__JHASH__9nXgBBpNKl7__JHASH__");i=i;return k.jsx(d("WAWebActionMenuItem.react").ActionMenuItem,babelHelpers["extends"]({ref:e,optionId:"mute"},a,{onSelect:i,primary:b}))}a.displayName=a.name+" [from "+f.id+"]";g.MuteChatMenuItem=a}),98);
__d("WAWebChatSearchModel",["WAWebChatCollection","WAWebPhoneNumberSearch","WAWebSearchModel","WAWebSearchUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="ChatSearch",c.type="chat",b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.queryFn=function(a,b){var c=this,e=d("WAWebSearchUtils").normalizeString(a),f=d("WAWebPhoneNumberSearch").numberSearch(e);b=d("WAWebSearchUtils").filterPaginate(d("WAWebChatCollection").ChatCollection.getModelsArray(),function(b){if(!b.shouldAppearInList)return!1;if(c.type==="group"&&!b.isGroup)return!1;return c.type==="1-1"&&b.isGroup?!1:a===""||b.contact.searchMatch(e,f)},b==null?void 0:b.pagination);var g=b.results;b=b.pagination;return{type:this.type,pagination:b,results:g.map(function(a){return{id:a.id.toString(),type:c.type,data:a}})}};return b}(d("WAWebSearchModel").Search);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="GroupSearch",c.type="group",b)||babelHelpers.assertThisInitialized(c)}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="ContactChatSearch",c.type="1-1",b)||babelHelpers.assertThisInitialized(c)}return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.id="LockedChatSearch",b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.queryFn=function(a,b){var c=d("WAWebSearchUtils").normalizeString(a),e=d("WAWebPhoneNumberSearch").numberSearch(c);b=d("WAWebSearchUtils").filterPaginate(d("WAWebChatCollection").ChatCollection.getModelsArray(),function(b){return!b.isLocked?!1:a===""||b.contact.searchMatch(c,e)},b==null?void 0:b.pagination);var f=b.results;b=b.pagination;return{type:"locked-chat",pagination:b,results:f.map(function(a){return{id:a.id.toString(),type:"locked-chat",data:a}})}};return b}(d("WAWebSearchModel").Search);g.ChatSearch=a;g.GroupChatSearch=b;g.ContactChatSearch=c;g.LockedChatSearch=e}),98);
__d("WAWebDeleteChatMenuItem.react.js",["fbt","WAWebChatFlowTypes","WAWebChatGroupUtils","WAWebCmd","WAWebMiscGatingUtils","WAWebStateUtils","WAWebSuspendedGroupUtils","WAWebWDSMenuItems.react","react","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function a(a){var b=a.chat,c=a.entryPoint;a=babelHelpers.objectWithoutPropertiesLoose(a,["chat","entryPoint"]);var e=d("useWAWebModelValues").useModelValues(b,["isReadOnly","kind"]),f=e.isReadOnly,g=e.kind,i=function(){c!=null?d("WAWebCmd").Cmd.deleteOrExitChatFromEntryPoint(d("WAWebStateUtils").unproxy(e),c):d("WAWebCmd").Cmd.deleteOrExitChat(d("WAWebStateUtils").unproxy(e))},k=function(){d("WAWebSuspendedGroupUtils").openExitAndDeleteGroupModal(b)},l;i=i;if(g!=null)switch(g){case d("WAWebChatFlowTypes").ChatKindType.Group:f?l=h._("__JHASH__kfKw6an5aW-__JHASH__"):!d("WAWebChatGroupUtils").isCommunityAnnouncementGroup(e)&&d("WAWebChatGroupUtils").isSuspendedGroup(e)&&d("WAWebMiscGatingUtils").isGroupSuspendV2Enabled()?(l=h._("__JHASH__7io54lYd-uk__JHASH__"),i=k):l=h._("__JHASH__BA0mOGeOyXA__JHASH__");break;case d("WAWebChatFlowTypes").ChatKindType.Broadcast:l=h._("__JHASH__pOGMS2vaodS__JHASH__");break;case d("WAWebChatFlowTypes").ChatKindType.Chat:l=h._("__JHASH__5bdGZfuj0C8__JHASH__");break;default:break}return j.jsx(d("WAWebWDSMenuItems.react").ActionMenuItem,babelHelpers["extends"]({optionId:"deleteChat"},a,{onSelect:i,primary:l}))}a.displayName=a.name+" [from "+f.id+"]";g.DeleteChatMenuItem=a}),98);
__d("useWAWebChatLockRestriction",["WAWebChatLockCodeModal.react","WAWebChatLockUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState,k=new Set();function l(){return k.size>0}function a(a){var b=a.id,c=a.condition,e=a.onPromptSuccess,f=a.onPromptFailure,g;c==="always"?(g=!0,a=d("WAWebChatLockUtils").lockedChatsAreAccessible()):c==="bypass"?(g=!1,a=!0):(g=c.isLocked,a=d("WAWebChatLockUtils").chatIsAccessible(c));c=j(a);var h=c[0],m=c[1];a=j(!1);var n=a[0],o=a[1];i(function(){g&&!h&&!n&&(o(!0),void d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0}).then(function(a){m(a),a?e==null?void 0:e():f==null?void 0:f()}))},[h,g,n,e,f]);i(function(){g&&h&&k.add(b);return function(){g&&h&&(k["delete"](b),l()||d("WAWebChatLockUtils").lockChats())}},[h,g,b]);return h}g.chatLockComponentIsMounted=l;g.useChatLockRestriction=a}),98);
__d("useWAWebOpenChat",["WAWebChatCollection","WAWebCmd","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(){var a=i(d("WAWebChatCollection").ChatCollection.getActive()),b=a[0],c=a[1];d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change:active",function(a){c(a)});a=function(a,b){return d("WAWebCmd").Cmd.openChatBottom(a,b)};return{openedChat:b,openChat:a}}g.useOpenChat=a}),98);
__d("WAWebLockedChatsDrawer.react",["fbt","WAWebBlockChatMenuItem.react.js","WAWebBlockContants","WAWebChatCollection","WAWebChatDebugCopyIdMenuItem.react.js","WAWebChatListMenuItem.react","WAWebChatLockGatingUtils","WAWebChatLockMenuItem.react","WAWebChatMarkUnreadMenuItem.react.js","WAWebChatMuteMenuItem.react.js","WAWebChatSearchModel","WAWebCmd","WAWebDeleteChatMenuItem.react.js","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmptyState.react","WAWebLexicalWDSMenu.react","WAWebSearchInput","gkx","react","useWAWebChatLockRestriction","useWAWebListener","useWAWebOpenChat","useWAWebSearchModel"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");b=j.forwardRef(a);function a(a,b){var e;a=babelHelpers["extends"]({},a);var f=d("useWAWebSearchModel").useSearchModel(function(){return new(d("WAWebChatSearchModel").LockedChatSearch)()}),g=f.query,i=f.results;f=d("useWAWebOpenChat").useOpenChat();var k=f.openedChat,l=i==null?void 0:i.query.searchText;f=l!=null&&l!=="";d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change add remove",function(){var a;void g((a=l)!=null?a:"",i==null?void 0:i.query.options)});d("useWAWebChatLockRestriction").useChatLockRestriction({id:"locked-chats-drawer",condition:"always"});e=(e=i==null?void 0:i.results.map(function(a){return babelHelpers["extends"]({},d("WAWebChatListMenuItem.react").getFlatListConfigFromChat(a.data,{showCommunityInfo:!0}))}))!=null?e:[];return j.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"archived",testid:void 0,tsNavigationData:{surface:"settings-drawer"},children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._("__JHASH__Pg2CqNflbGw__JHASH__"),onBack:a.onClose,type:d("WAWebChatLockGatingUtils").chatLockSideNavEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsx(d("WAWebSearchInput").DrawerSearchInput,{onSearch:g,children:e.length===0?j.jsx(d("WAWebEmptyState.react").Empty,{title:f?h._("__JHASH__T4f2WHdq4LM__JHASH__"):h._("__JHASH__VYB_Kw-ULep__JHASH__")}):j.jsx(d("WAWebLexicalWDSMenu.react").LexicalWDSPerformantMenu,{size:"large",data:e,renderItem:function(a){return j.jsx(d("WAWebChatListMenuItem.react").ChatMenuItem,{optionId:a.chat.id.toString(),chat:a.chat,onSelect:function(){return void d("WAWebCmd").Cmd.openChatBottom(a.chat)},contextMenuItems:[j.jsx(d("WAWebChatLockMenuItem.react").UnlockChatMenuItem,{chat:a.chat},"unlock"),j.jsx(d("WAWebDeleteChatMenuItem.react.js").DeleteChatMenuItem,{chat:a.chat},"delete"),j.jsx(d("WAWebChatMuteMenuItem.react.js").MuteChatMenuItem,{chat:a.chat},"mute"),j.jsx(d("WAWebBlockChatMenuItem.react.js").BlockChatMenuItem,{chat:a.chat,entryPoint:a.chat.isTrusted()?d("WAWebBlockContants").BlockEntryPoint.ChatListBlock:d("WAWebBlockContants").BlockEntryPoint.ChatListNoInsubBlock},"block"),j.jsx(d("WAWebChatMarkUnreadMenuItem.react.js").MarkUnreadMenuItem,{chat:a.chat},"mark_unread")].concat(c("gkx")("26258")?[]:[j.jsx(d("WAWebChatDebugCopyIdMenuItem.react.js").CopyChatIdMenuItem,{chat:a.chat},"copy_id")]),forceActive:(k==null?void 0:k.id.toString())===a.chat.id.toString(),showCommunityInfo:!0},a.itemKey)}})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("useWAWebChatLockEvents",["WAWebChatLockUtils","WAWebCmd","react","useWAWebListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(){var a=i(d("WAWebChatLockUtils").lockedChatsAreAccessible()),b=a[0],c=a[1];d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"chatlock:lock",function(){c(!1)});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"chatlock:unlock",function(){c(!0)});return b}g.useChatLockEvents=a}),98);
__d("useWAWebChatLockSettings",["WAWebChatLockSettings","react","useWAWebListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=function(a){return{hideLockedChats:a.hideLockedChats===!0,hasSecretCode:a.secretCode!=null}};function a(){var a=d("WAWebChatLockSettings").getChatLockSettings(),b=i(function(){return j(a)}),c=b[0],e=b[1];d("useWAWebListener").useListener(a,"change",function(){e(j(a))});return c}g.useChatLockSettings=a}),98);
__d("WAWebChatLockedEntryPoint.react",["fbt","WAWebChatLockCodeModal.react","WAWebChatlistPanelDrawerButton.react","WAWebChatlockOutlineIcon","WAWebChatlockUnlockedOutlineIcon","WAWebDrawerManager","WAWebLockedChatsDrawer.react","WAWebTabOrder","asyncToGeneratorRuntime","react","useWAWebChatLockEvents","useWAWebChatLockRestriction","useWAWebChatLockSettings"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=d("useWAWebChatLockEvents").useChatLockEvents(),e=d("useWAWebChatLockSettings").useChatLockSettings();e=e.hideLockedChats;d("useWAWebChatLockRestriction").useChatLockRestriction({id:"chatlist-entry-point",condition:e?"always":"bypass"});a?e=d("WAWebChatlockUnlockedOutlineIcon").ChatlockUnlockedOutlineIcon:e=d("WAWebChatlockOutlineIcon").ChatlockOutlineIcon;a=j.jsx(e,{});e=h._("__JHASH__UlFtRB6NJbm__JHASH__");var f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("WAWebChatLockCodeModal.react").waitForChatlockSecretCode({unlockAppOnSuccess:!0}));a&&d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebLockedChatsDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}))});return function(){return a.apply(this,arguments)}}();return j.jsx(c("WAWebChatlistPanelDrawerButton.react"),{dataTab:d("WAWebTabOrder").TAB_ORDER.ARCHIVED_ENTRY_POINT,onClick:f,primary:e,icon:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebNuxCtwaSuggestionBanner.react",["WAWebBizGatingUtils","WAWebCoolOffNuxBanner.react","WAWebNewCTWASuggestionAction","WAWebNuxBanner","WAWebNuxCoolOff","WAWebNuxCtwaSuggestionHelpers","WAWebWamEnumBannerTypes","err","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).createRef;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$CTWASuggestionBanner1=k(),c.getElement=function(){return c.$CTWASuggestionBanner1.current},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props,b=a.onInteract,e=a.suggestion;a=e.id;var f=e.heading,g=e.body,h=e.highlight,i=e.display;a=babelHelpers["extends"]({},d("WAWebNuxCtwaSuggestionHelpers").BANNER_CONFIG,{storageAccessors:d("WAWebNuxCtwaSuggestionHelpers").getStorageAccessors(a),bannerId:a,logImpression:function(){d("WAWebNewCTWASuggestionAction").ctwaSuggestionShown(e)}});d("WAWebBizGatingUtils").adsActionBannersLoggingEnabled()&&(a.metricField=d("WAWebWamEnumBannerTypes").BANNER_TYPES.SMB_CTWA_AD_ACTION_BANNER);a=new(d("WAWebNuxCoolOff").CoolOffNux)(d("WAWebNuxCtwaSuggestionHelpers").BANNER_TYPE,a);var k;i==="info"?k="adActionInfo":(i,k="adActionWarning");return j.jsx(c("WAWebCoolOffNuxBanner.react"),{ref:this.$CTWASuggestionBanner1,title:f,subtitle:g,actionText:h,onDismiss:function(){b==null?void 0:b(),d("WAWebNewCTWASuggestionAction").ctwaSuggestionInteracted(e)},onClick:function(){b==null?void 0:b(),d("WAWebNewCTWASuggestionAction").ctwaSuggestionInteracted(e,!0)},nuxManager:a,theme:k})};b.shouldShow=function(){throw c("err")("CTWASuggestionBanner#shouldShow should not be called")};return b}(d("WAWebNuxBanner").ExtendableNuxBanner);g.CTWASuggestionBanner=a}),98);
__d("WAWebNuxQuickPromotionChatListBanner.react",["WALogger","WAWebButterbar.react","WAWebDomSanitize","WAWebNuxBanner","WAWebNuxBannerText.react","WAWebQuickPromotionCollection","err","react"],(function(a,b,c,d,e,f,g){var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["QuickPromotionChatListBanner: missing link"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["QuickPromotionChatListBanner: missing primary action"]);k=function(){return a};return a}var l=i||c("react"),m=(h||(h=d("react"))).createRef;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$QuickPromotionChatListBanner1=m(),c.getElement=function(){return c.$QuickPromotionChatListBanner1.current},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props,b=a.onInteract,e=a.promotion;a=e.data;var f=a.titleElementValue,g=a.textElementValue,h=a.primaryAction,i=a.colors;a=a.image;if(h==null){d("WALogger").ERROR(k()).sendLogs("quick-promotion-missing-banner-action");return null}var m=h.text,n=h.universalLink;h=h.deepLink;h=(h=h)!=null?h:n;if(h==null||h===""){d("WALogger").ERROR(j()).sendLogs("quick-promotion-missing-action-link");return null}n=function(a){a.preventDefault(),a.stopPropagation(),b==null?void 0:b(),d("WAWebQuickPromotionCollection").QuickPromotionCollection.promotionDismissed(e.id)};h=l.jsx("div",{dangerouslySetInnerHTML:{__html:d("WAWebDomSanitize").sanitizeQuickPromotionText(g)}});g=l.jsx(d("WAWebNuxBannerText.react").NuxBannerText,{subtitle:h,actionText:m});h=a!=null?{description:a.description,iconLight:(h=a.light)==null?void 0:h.elementValue,iconDark:(m=a.dark)==null?void 0:m.elementValue}:null;d("WAWebQuickPromotionCollection").QuickPromotionCollection.promotionShown(e.id);return l.jsx(c("WAWebButterbar.react"),{ref:this.$QuickPromotionChatListBanner1,type:"quickPromotion",title:f,text:g,onDismiss:n,action:function(){b==null?void 0:b(),d("WAWebQuickPromotionCollection").QuickPromotionCollection.promotionPrimaryActionClicked(e.id)},customColours:i,customIcons:h})};b.shouldShow=function(){throw c("err")("QuickPromotionChatListBanner#shouldShow should not be called")};return b}(d("WAWebNuxBanner").ExtendableNuxBanner);g.QuickPromotionChatListBanner=a}),98);
__d("WAWebDesktopUpsellEvents",["WAWebTypedEventEmitter"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("WAWebTypedEventEmitter"));b=new a();g.WAWebDesktopUpsellEvents=b}),98);
__d("WAWebToastbar.react",["fbt","WAWebClickable.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebTabOrder","WAWebUISpacing","WAWebVelocityTransitionGroup","WAWebXIcon","react","useHoverState","useWAWebFocusState"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={container:{position:"x10l6tqk",bottom:"x1ey2m1c",zIndex:"xoz0ns6",width:"xh8yej3",backgroundColor:"x150wa6m",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0},childrenContainer:{display:"x3nfvp2",$$css:!0},icon:{color:"xfect85",opacity:"x1hc1fzr",transitionProperty:"x19991ni",transitionDuration:"x13dflua",transitionTimingFunction:"xz4gly6",$$css:!0},iconHidden:{opacity:"xg01cxk",$$css:!0},focused:{borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"x1d3d9uk",$$css:!0}};function a(a){var b=a.children,e=a.dismissible,f=a.hidden;f=f===void 0?!1:f;var g=a.onClick,i=a.onDismiss;a=a.wrapperXstyle;var j=l(!1),n=j[0],o=j[1];j=c("useHoverState")();var p=j.isHovered,q=j.onMouseEnter;j=j.onMouseLeave;var r=c("useWAWebFocusState")(),s=r[0];r=r[1];var t=c("useWAWebFocusState")(),u=t[0];t=t[1];var v=null;!n&&!f&&(v=k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"all",xstyle:[d("WAWebUISpacing").uiPadding.top12,d("WAWebUISpacing").uiPadding.bottom10,m.container,a],children:[k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.start13,m.childrenContainer,r&&m.focused],align:"center",justify:"evenly",children:b}),k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.end20,children:e===!0?k.jsx(d("WAWebClickable.react").Clickable,{ref:u,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_LIST,onClick:function(a){a==null?void 0:a.preventDefault(),a==null?void 0:a.stopPropagation(),o(!0),i==null?void 0:i()},children:k.jsx(d("WAWebXIcon").XIcon,{height:24,"aria-label":h._("__JHASH__DN12Nrto9V4__JHASH__"),xstyle:[m.icon,!p&&!r&&!t&&m.iconHidden]})}):null})]}));return k.jsx(d("WAWebClickable.react").Clickable,{ref:s,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_LIST,onClick:g,children:k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{onMouseEnter:q,onMouseLeave:j,children:k.jsx(c("WAWebVelocityTransitionGroup"),{component:"div",transitionName:"toast-transition",children:v})})})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebToastbar=a}),98);
__d("WAWebDesktopUpsellChatlistToastbar.react",["WAWebChevronRightIcon","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellEvents","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebSvgComponentBase","WAWebToastbar.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWDSText.react","WAWebWaSquareIconIcon","WAWebWamEnumWebcNativeUpsellCtaEventType","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcNativeUpsellCtaWamEvent","react","useWAWebDesktopUpsellWamImpression","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l={textWrapper:{lineHeight:"xo5v014",$$css:!0},chevron:{verticalAlign:"xxymvpz",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("chatlist_toastbar"),c=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();b=b&&c;c=k(!0);var e=c[0],f=c[1];d("useWAWebListener").useListener(d("WAWebDesktopUpsellEvents").WAWebDesktopUpsellEvents,"conversation_panel_ui_change",function(a){f(a.conversationPanelVisible)});c=m();b=b===!0&&a!=null&&!c;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:b,source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR});return!b?null:j.jsxs(d("WAWebToastbar.react").WAWebToastbar,{hidden:!e,dismissible:!0,onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR)},onDismiss:function(){n(),new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaEventType:d("WAWebWamEnumWebcNativeUpsellCtaEventType").WEBC_NATIVE_UPSELL_CTA_EVENT_TYPE.CTA_DISMISS,webcNativeUpsellCtaSource:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR}).commit()},children:[j.jsx(d("WAWebWaSquareIconIcon").WaSquareIconIcon,{height:42,xstyle:d("WAWebUISpacing").uiMargin.end20}),j.jsxs(d("WAWebWDSText.react").WDSTextTitle,{as:"span",color:"teal",xstyle:l.textWrapper,children:[d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellToastbarLabel(),j.jsx(d("WAWebChevronRightIcon").ChevronRightIcon,{displayInline:!0,height:22,color:d("WAWebSvgComponentBase").SvgColorProp.TEAL,xstyle:[l.chevron,d("WAWebUISpacing").uiMargin.bottom1]})]})]})}a.displayName=a.name+" [from "+f.id+"]";function m(){var a=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_DISMISSED_CHATLIST_TOASTBAR);return!!a}function n(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DESKTOP_UPSELL_USER_HAS_DISMISSED_CHATLIST_TOASTBAR,!0)}g.WAWebDesktopUpsellChatlistToastbar=a}),98);
__d("WAWebDesktopUpsellSearchToastbar.react",["fbt","WAWebChevronRightIcon","WAWebDesktopUpsellCommonStrings","WAWebDesktopUpsellPlatformAwareHooks","WAWebDesktopUpsellStoreOpener","WAWebDesktopUpsellUtils","WAWebFlex.react","WAWebSvgComponentBase","WAWebToastbar.react","WAWebUISpacing","WAWebWDSText.react","WAWebWaSquareIconIcon","WAWebWamEnumWebcNativeUpsellCtaSourceType","react","useWAWebDesktopUpsellWamImpression"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={textWrapper:{lineHeight:"xo5v014",$$css:!0},chevron:{verticalAlign:"xxymvpz",$$css:!0}};function a(){var a=d("WAWebDesktopUpsellUtils").getUserDesktopOs(),b=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellAbPropCheck("search_results"),c=d("WAWebDesktopUpsellPlatformAwareHooks").useWAWebDesktopUpsellPlatformCheck();b=b&&c;d("useWAWebDesktopUpsellWamImpression").useWAWebDesktopUpsellWamImpression({isCtaVisible:b===!0,source:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.SEARCH_RESULTS});return b!==!0||a==null?null:j.jsxs(d("WAWebToastbar.react").WAWebToastbar,{onClick:function(){d("WAWebDesktopUpsellStoreOpener").openExternalWhatsAppDesktopDownloadUrl(d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.SEARCH_RESULTS)},children:[j.jsx(d("WAWebWaSquareIconIcon").WaSquareIconIcon,{height:42,xstyle:d("WAWebUISpacing").uiMargin.end20}),j.jsxs(d("WAWebFlex.react").FlexColumn,{children:[j.jsx(d("WAWebFlex.react").FlexItem,{children:j.jsx(d("WAWebWDSText.react").WDSTextTitle,{as:"span",children:h._("__JHASH__kEui-JptIGV__JHASH__")})}),j.jsx(d("WAWebFlex.react").FlexItem,{inline:!0,children:j.jsxs(d("WAWebWDSText.react").WDSTextMuted,{as:"span",xstyle:k.textWrapper,children:[d("WAWebDesktopUpsellCommonStrings").getDesktopUpsellToastbarLabel(),j.jsx(d("WAWebChevronRightIcon").ChevronRightIcon,{displayInline:!0,height:22,color:d("WAWebSvgComponentBase").SvgColorProp.GRAY,xstyle:[k.chevron,d("WAWebUISpacing").uiMargin.bottom1]})]})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebDesktopUpsellSearchToastbar=a}),98);
__d("WAWebOfflineResumeProgressToastbar.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={progress:"_aofq"};b=a;g["default"]=b}),98);
__d("WAWebOfflineResumeProgressToastbar.react",["fbt","WAWebBox.react","WAWebCmd","WAWebFlex.react","WAWebL10N","WAWebOfflineHandler","WAWebOfflineResumeProgressToastbar.scss","WAWebProgressBar.react","WAWebToastbar.react","WAWebUISpacing","WAWebWDSText.react","react","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={wrapper:{minHeight:"x122xwht",justifyContent:"xl56j7k",$$css:!0},progressWrapper:{position:"x10l6tqk",width:"xh8yej3",top:"x13vifvy",start:"x17qophe",left:null,right:null,display:"x78zum5",$$css:!0},textWrapper:{textAlign:"x2b8uid",$$css:!0},textTitle:{fontSize:"x1pg5gke",$$css:!0},textProgress:{fontSize:"x1ncwhqj",$$css:!0}};function a(){var a=c("useWAWebEventTargetValue")(d("WAWebCmd").Cmd,"offline_progress_update",function(){return[d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress(),d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineMessageCount()]},[]),b=a[0];a=a[1];return j.jsxs(d("WAWebToastbar.react").WAWebToastbar,{wrapperXstyle:[d("WAWebUISpacing").uiPadding.all0,k.wrapper],children:[j.jsx(d("WAWebBox.react").Box,{xstyle:k.progressWrapper,children:j.jsx(c("WAWebProgressBar.react"),{value:b,className:c("WAWebOfflineResumeProgressToastbar.scss").progress})}),j.jsxs(d("WAWebFlex.react").FlexItem,{xstyle:k.textWrapper,children:[j.jsx(d("WAWebWDSText.react").WDSTextMuted,{xstyle:k.textTitle,children:h._("__JHASH__Bi1iFFuvujD__JHASH__")}),j.jsx(d("WAWebWDSText.react").WDSTextSmall,{xstyle:k.textProgress,children:h._("__JHASH__rReUZ3tgZp9__JHASH__",[h._plural(a),h._param("processed-messages",c("WAWebL10N").n(Math.floor(b/100*a))),h._param("total-messages",c("WAWebL10N").n(a))])})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.WAWebOfflineResumeProgressToastbar=a}),98);
__d("WAWebPttOocMarquee",["WAWebL10N","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={animation:{animationDuration:"x18ebdri",animationIterationCount:"xa4qsjk",animationTimingFunction:"x1esw782",$$css:!0},animationLTR:{animationName:"xhcjfi7",$$css:!0},animationRTL:{animationName:"x2xl3gs",$$css:!0},childWrapper:{position:"x1n2onr6",width:"xeq5yr9",$$css:!0},delimiter:{display:"x1rg5ohu",width:"x1849jeq",height:"x5yr21d",$$css:!0}};function a(a){a=a.children;return j.jsxs("div",{className:(i||(i=c("stylex")))(k.childWrapper,k.animation,c("WAWebL10N").isRTL()?k.animationRTL:k.animationLTR),children:[a,j.jsx("span",{className:"x1rg5ohu x1849jeq x5yr21d"}),a,j.jsx("span",{className:"x1rg5ohu x1849jeq x5yr21d"})]})}a.displayName=a.name+" [from "+f.id+"]";g.OocMarquee=a}),98);
__d("WAWebPttButton.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={clipFix:"_aka_"};b=a;g["default"]=b}),98);
__d("WAWebPttButton.react",["WANullthrows","WAWebClassnames","WAWebFocusTracer","WAWebPttButton.scss","WAWebTabOrder","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;a=j||d("react");var k=h||(h=c("react"));b=a.forwardRef;var l=a.useImperativeHandle,m=a.useRef;e=b(function(a,b){var e=a.testid;e=a.ariaLabel;var f=a.children,g=a.xstyle,h=a.confirmOnMouseUp,j=a.disabled,n=a.onConfirm;a=a.dataTab;var o=m(null);l(b,function(){return{focus:function(){return c("WAWebFocusTracer").focus(c("WANullthrows")(o.current))}}});var p=m(!1),q,r,s;j||(r=function(a){p.current=!0,window.addEventListener("mouseup",function(){p.current=!1},{once:!0})},q=function(a){if(!h)return;if(p.current)return;a.button===0&&n(a)},s=n);return k.jsx("button",{ref:o,"data-testid":void 0,"data-tab":(b=a)!=null?b:d("WAWebTabOrder").TAB_ORDER.PTT_BUTTON,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease((i||(i=c("stylex")))(g),c("WAWebPttButton.scss").clipFix),onClick:s,onMouseUp:q,onMouseDown:r,"aria-label":e,"aria-disabled":j,children:f})});g.PttButton=e}),98);
__d("WAWebPttCloseButton.react",["fbt","WAWebPttButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).forwardRef;var l={base:{width:"x1kky2od",height:"xmix8c7",$$css:!0},outOfChat:{width:"x1n7h9c3",height:"x1s1d1n7",marginStart:"x8j4wrb",marginLeft:null,marginRight:null,marginTop:"xvijh9v",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",color:"xh4mkqi",$$css:!0},outOfChatEnabled:{":hover_opacity":"x5z6fxw",$$css:!0}};b=a(function(a,b){var c=a.onConfirm,e=a.dataTab,f=a.theme;a=a.disabled;a=a===void 0?!1:a;f=f==="out-of-chat-playback";return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.base,f&&l.outOfChat,f&&!a&&l.outOfChatEnabled],testid:void 0,onConfirm:c,confirmOnMouseUp:!1,dataTab:e,disabled:a,ariaLabel:h._("__JHASH__yyAuhKeX4JG__JHASH__"),children:k.jsx("svg",{width:"15.6",height:"15.6",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M15.8002 1.80001L14.2002 0.200012L8.0002 6.40001L1.8002 0.200012L0.200195 1.80001L6.4002 8.00001L0.200195 14.2L1.8002 15.8L8.0002 9.60001L14.2002 15.8L15.8002 14.2L9.6002 8.00001L15.8002 1.80001Z",fill:"white"})})})});g.PttCloseButton=b}),98);
__d("WAWebPttPlayPauseButton.react",["fbt","WAWebPttButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).forwardRef;var l={base:{width:"x1kky2od",height:"xmix8c7",$$css:!0},composeBox:{color:"x3dtpkb",$$css:!0},composeBoxEnabled:{":hover_color":"x1a92kiq",$$css:!0},outOfChat:{width:"x1n7h9c3",height:"x1s1d1n7",marginStart:"x1orzsq4",marginLeft:null,marginRight:null,marginTop:"xvijh9v",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",color:"xh4mkqi",$$css:!0},outOfChatEnabled:{":hover_opacity":"x5z6fxw",$$css:!0}};b=a(function(a,b){var c=a.paused,e=a.onConfirm,f=a.disabled;f=f===void 0?!1:f;var g=a.theme;a=a.dataTab;var i=c?k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",className:"x1nouqcy",children:k.jsx("path",{d:"M15.05,8.39,2,.32a1,1,0,0,0-1.53.85V16.83A1,1,0,0,0,2,17.7L15,10.1A1,1,0,0,0,15.05,8.39Z",fill:"currentColor"})}):k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"18px",viewBox:"0 0 16 18",children:[k.jsx("path",{fill:"currentColor",d:"M1.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1H5c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H1.9z"}),k.jsx("path",{fill:"currentColor",d:"M10.9,1c-0.6,0-1,0.4-1,1v14c0,0.6,0.4,1,1,1h3.1c0.6,0,1-0.4,1-1V2c0-0.6-0.4-1-1-1H10.9z"})]});return k.jsx(d("WAWebPttButton.react").PttButton,{ref:b,xstyle:[l.base,g==="compose-box"&&l.composeBox,g==="compose-box"&&!f&&l.composeBoxEnabled,g==="out-of-chat-playback"&&l.outOfChat,g==="out-of-chat-playback"&&!f&&l.outOfChatEnabled],testid:void 0,onConfirm:e,confirmOnMouseUp:!1,disabled:f,dataTab:a,ariaLabel:c?h._("__JHASH__wmHaYL7UPvE__JHASH__"):h._("__JHASH___NG8JgG8AQh__JHASH__"),children:i})});g.PttPlayPauseButton=b}),98);
__d("WAWebPttUseMsgAudioPlaybackController",["WAWebPttMsgAudioStore","react","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a){var b=function(){return a==null?null:d("WAWebPttMsgAudioStore").MsgAudioStore.acquireAudio(a)},e=i(b),f=e[0];e=e[1];var g=i(a),h=g[0];g=g[1];h!==a&&(g(a),f==null?void 0:f.dispose(),e(b()));c("useWAWebOnUnmount")(function(){f==null?void 0:f.dispose()});return f}g.useMsgAudioPlaybackController=a}),98);
__d("WAWebPttOocPlayer",["WANullthrows","WAWebAudioFileIcon","WAWebAudioStatusIcon","WAWebChatMessageSearch","WAWebClassnames","WAWebCmd","WAWebDetailImage.react","WAWebElevatedPushNamesFlag","WAWebFrontendMsgGetters","WAWebMsgGetters","WAWebName.react","WAWebNewsletterName.react","WAWebPttCalculateAudioProgress","WAWebPttCloseButton.react","WAWebPttDailyUtils","WAWebPttMessageStatus.scss","WAWebPttOocMarquee","WAWebPttPlayPauseButton.react","WAWebPttPrefs","WAWebPttStatusIcon","WAWebPttUseMsgAudioPlaybackController","WAWebTabOrder","WAWebThemeContext","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","react","stylex","useWAWebAnimationFrames","useWAWebListener","useWAWebMeasure","useWAWebModelValues","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useRef,p=b.useState,q=26,r=40,s={container:{position:"x10l6tqk",zIndex:"xhtitgo",backgroundColor:"xyblb0s",display:"x78zum5",width:"xh8yej3",height:"x1x0gksc",boxShadow:"x1xrx4lg",$$css:!0},avatar:{marginEnd:"xpdqn1h",marginLeft:null,marginRight:null,width:"x100vrsf",height:"x1vqgdyp",minWidth:"x1fns5xo",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",flexWrap:"x1a02dak",position:"x1n2onr6",$$css:!0},audioAvatar:{borderTopStartRadius:"xlid4zk",borderTopEndRadius:"x13tp074",borderBottomEndRadius:"x1qns1p2",borderBottomStartRadius:"xipx5yg",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},forwardedPttAvatar:{backgroundColor:"x1aqdfop",$$css:!0},micContainer:{zIndex:"x11uqc5h",position:"x10l6tqk",top:"xuivejd",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",end:"x12vmtx6",left:null,right:null,$$css:!0},senderContainer:{width:"xh8yej3",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",position:"x1n2onr6",$$css:!0},senderButton:{maxWidth:"x193iq5w",height:"x5yr21d",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",justifyContent:"xl56j7k",alignItems:"x6s0dn4",":hover_opacity":"x5z6fxw",$$css:!0},authorSection:{whiteSpace:"xuxw1ft",textOverflow:"xbrixnn",overflowX:"x6ikm8r",overflowY:"x10wlt62",maxWidth:"x193iq5w",height:"x5yr21d",display:"x78zum5",alignItems:"x6s0dn4",$$css:!0},senderName:{color:"xmzmlnv",fontSize:"x1jchvi3",$$css:!0},buttonContainer:{minWidth:"xfvyar9",height:"x5yr21d",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",$$css:!0},progressContainer:{width:"xh8yej3",position:"x10l6tqk",top:"xef1mmm",height:"xuoj239",$$css:!0},progress:{width:"xh8yej3",height:"x5yr21d",$$css:!0},progressLight:{backgroundColor:"x1r1mewj",opacity:"xwq05k6",$$css:!0},progressDark:{backgroundColor:"x1liytr5",opacity:"xyd83as",$$css:!0},measurementContainer:{width:"xoiwuju",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",$$css:!0},measurementDiv:{visibility:"xlshs6z",position:"x10l6tqk",top:"xomak03",start:"xwrr8g",left:null,right:null,$$css:!0}};function a(){var a=d("useWAWebModelValues").useModelValues(d("WAWebPttPrefs").PttPrefs,["outOfChatPlayerMessage"]);a=a.outOfChatPlayerMessage;var b=d("WAWebPttUseMsgAudioPlaybackController").useMsgAudioPlaybackController(a),c=function(a){d("WAWebPttPrefs").PttPrefs.outOfChatPlayerMessage=a};return a&&b?k.jsx(t,{msg:a,playbackController:b,onPlayNext:c}):null}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b=a.msg;a.onPlayNext;a=a.playbackController;var e=d("useWAWebMsgValues").useMsgValues(b.id,[d("WAWebFrontendMsgGetters").getAsRevoked,d("WAWebFrontendMsgGetters").getPendingDeleteForMe]),f=e[0],g=e[1],h=d("WAWebFrontendMsgGetters").getChat(b.unsafe()),i=a.audio,j=a.pttPlaybackLogger,l=A(b);e=p(!i.paused);var m=e[0],q=e[1],r=o(!1),t=function(){return r.current=!1};n(function(){t()},[b]);var w=function(){return q(!i.paused)};(a=d("useWAWebListener")).useListener(i,"playing",function(){w()});a.useListener(i,"timeupdate",function(){w();if(!l)return;j.markAsPlayedInOoc();r.current||(r.current=!0,d("WAWebPttDailyUtils").incrementPttDailyCount(d("WAWebPttDailyUtils").PttDailyCountKind.OOC_PLAYBACK,c("WANullthrows")(h.kind)))});a.useListener(i,"pause",w);a.useListener(i,"ended",function(){w();if(!l)return;t()});a.useListener(d("WAWebCmd").Cmd,["status_viewer_open","open_lock_screen_modal"],function(){i.pause()});a.useListener(h,"remove",function(){i.pause(),d("WAWebPttPrefs").PttPrefs.closeOocPlayer()});n(function(){(f||g)&&(i.pause(),d("WAWebPttPrefs").PttPrefs.closeOocPlayer())},[f,g,i]);e=function(a){m?(i.pause(),j.increaseOocPauseCount()):i.play(),a.preventDefault()};a=function(a){i.pause(),d("WAWebPttPrefs").PttPrefs.closeOocPlayer(),d("WAWebPttPrefs").PttPrefs.setPlayingMessage(null),j.markAsOocClosedByUser(),j.commit(!0),a.preventDefault()};var x=function(a){if(a.defaultPrevented)return;d("WAWebCmd").Cmd.openChatAt(h,d("WAWebChatMessageSearch").getSearchContext(h,b.unsafe()));j.increaseOocClickToChatCount()};return k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"ptt-out-of-chat",children:l?k.jsxs("div",{className:"x10l6tqk xhtitgo xyblb0s x78zum5 xh8yej3 x1x0gksc x1xrx4lg",children:[k.jsx("div",{className:"xfvyar9 x5yr21d x78zum5 xl56j7k x6s0dn4",children:k.jsx(d("WAWebPttPlayPauseButton.react").PttPlayPauseButton,{onConfirm:e,paused:!m,dataTab:d("WAWebTabOrder").TAB_ORDER.PTT_OOC_BUTTON,disabled:!l,theme:"out-of-chat-playback"})}),k.jsx("div",{className:"xh8yej3 x5yr21d x6ikm8r x10wlt62 x78zum5 xl56j7k x6s0dn4 x1n2onr6",children:k.jsxs(c("WAWebUnstyledButton.react"),{dataTab:d("WAWebTabOrder").TAB_ORDER.PTT_OOC_BUTTON,xstyle:s.senderButton,onClick:x,children:[k.jsx(v,{msg:b}),k.jsx(u,{author:b.senderObj,chat:h})]})}),k.jsx("div",{className:"xfvyar9 x5yr21d x78zum5 xl56j7k x6s0dn4",children:k.jsx(d("WAWebPttCloseButton.react").PttCloseButton,{onConfirm:a,dataTab:d("WAWebTabOrder").TAB_ORDER.PTT_OOC_BUTTON,disabled:!l,theme:"out-of-chat-playback"})}),k.jsx(z,{audio:i,isPlaying:m})]}):null})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.author;a=a.chat;var e=c("useWAWebMeasure")(),f=e[0];e=e[1].width;var g=c("useWAWebMeasure")(),h=g[0];g=g[1].width;var i=d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(a),j;a.isGroup?j=k.jsx(d("WAWebName.react").ContactAndGroupName,{contact:b,chat:a,elevatedPushNamesEnabled:!0,xstyle:s.senderName}):a.isNewsletter?j=k.jsx(d("WAWebNewsletterName.react").NewsletterName,{chat:a,elevatedPushNamesEnabled:i,xstyle:s.senderName}):j=k.jsx(d("WAWebName.react").Name,{contact:b,useShortName:!0,xstyle:s.senderName,elevatedPushNamesEnabled:i});a=g>e;return k.jsxs(k.Fragment,{children:[k.jsx("div",{ref:f,className:"xoiwuju x5yr21d x6ikm8r x10wlt62 x10l6tqk",children:k.jsx("div",{ref:h,className:"xlshs6z x10l6tqk xomak03 xwrr8g",children:j})}),k.jsx("div",{className:"xuxw1ft xbrixnn x6ikm8r x10wlt62 x193iq5w x5yr21d x78zum5 x6s0dn4",children:a?k.jsx(d("WAWebPttOocMarquee").OocMarquee,{children:j}):j})]})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.msg;var b=d("useWAWebMsgValues").useMsgValues(a.id,[d("WAWebFrontendMsgGetters").getAsPttLike,d("WAWebMsgGetters").getHasOriginatedFromNewsletter]),c=b[0];b=b[1];if(c||b)return k.jsx(w,{msg:a});return a.isForwarded?k.jsx(x,{}):k.jsx(y,{})}v.displayName=v.name+" [from "+f.id+"]";function w(a){a=a.msg;var b=d("useWAWebMsgValues").useMsgValues(a.id,[d("WAWebFrontendMsgGetters").getMsgSenderId,d("WAWebFrontendMsgGetters").getAsPttLike]),e=b[0];b=b[1];a=a.type==="ptt"||b?d("WAWebPttStatusIcon").PttStatusIcon:d("WAWebAudioStatusIcon").AudioStatusIcon;return k.jsxs("div",{className:"xpdqn1h x100vrsf x1vqgdyp x1fns5xo x78zum5 xl56j7k x6s0dn4 x1a02dak x1n2onr6",children:[k.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,size:r}),k.jsx("span",{className:d("WAWebClassnames").classnamesConvertMeToStylexPlease("x11uqc5h x10l6tqk xuivejd xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x12vmtx6",c("WAWebPttMessageStatus.scss").outOfChat),children:k.jsx(a,{width:q,height:q})})]})}w.displayName=w.name+" [from "+f.id+"]";function x(){return k.jsx("div",{className:"xpdqn1h x100vrsf x1vqgdyp x1fns5xo x78zum5 xl56j7k x6s0dn4 x1a02dak x1n2onr6 xlid4zk x13tp074 x1qns1p2 xipx5yg x6ikm8r x10wlt62 x1aqdfop",children:k.jsx(d("WAWebPttStatusIcon").PttStatusIcon,{width:20,height:20,className_DONOTUSE:c("WAWebPttMessageStatus.scss").forwardedOutOfChat})})}x.displayName=x.name+" [from "+f.id+"]";function y(){return k.jsx("div",{className:"xpdqn1h x100vrsf x1vqgdyp x1fns5xo x78zum5 xl56j7k x6s0dn4 x1a02dak x1n2onr6 xlid4zk x13tp074 x1qns1p2 xipx5yg x6ikm8r x10wlt62",children:k.jsx(d("WAWebAudioFileIcon").AudioFileIcon,{width:r,height:r})})}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.audio;a=a.isPlaying;var e=p(d("WAWebPttCalculateAudioProgress").calculateAudioProgress(b)),f=e[0],g=e[1];e=l(function(){g(d("WAWebPttCalculateAudioProgress").calculateAudioProgress(b))},[b]);c("useWAWebAnimationFrames")(e,{active:a});d("useWAWebListener").useListener(b,"timeupdate",e);d("useWAWebListener").useListener(b,"ended",function(){return g(0)});a=m(d("WAWebThemeContext").ThemeContext);e=a.theme;return k.jsx("div",{className:"xh8yej3 x10l6tqk xef1mmm xuoj239",children:k.jsx("div",{className:(i||(i=c("stylex")))(s.progress,e==="light"&&s.progressLight,e==="dark"&&s.progressDark),style:{transform:"translateX("+(f*100-100)+"%)"}})})}z.displayName=z.name+" [from "+f.id+"]";function A(a){var b=d("useWAWebModelValues").useModelValues(d("WAWebPttPrefs").PttPrefs,["isOocPlayerClosedByUser"]);b=b.isOocPlayerClosedByUser;a=d("WAWebFrontendMsgGetters").getChat(a.unsafe());a=d("useWAWebModelValues").useModelValues(a,["active"]);a=a.active;return!b&&!a}g.OutOfChatPlayer=a}),98);
__d("WAWebBizChatAssignmentModal.react",["fbt","WALogger","WANullthrows","WAQplTypes","WAWebAgentCollection","WAWebAgentModelUtils","WAWebBizChatAssignmentAction","WAWebChatAssignmentCollection","WAWebConfirmPopup.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModal.react","WAWebModalManager","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebText.react","WAWebUserPrefsMeUser","WAWebWDSButton","asyncToGeneratorRuntime","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["chat_assignment_modal: handleOk error ",""]);k=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useState,o={input:{flexShrink:"x2lah0s",marginEnd:"x1emribx",marginLeft:null,marginRight:null,width:"x1xp8n7a",height:"xmix8c7",$$css:!0},label:{display:"x1rg5ohu",height:"xmix8c7",paddingTop:"x1yrsyyn",paddingEnd:"x4uap5",paddingBottom:"x10b6aqq",paddingStart:"xkhd6sd",cursor:"x1ypdohk",overflowX:"x6ikm8r",overflowY:"x10wlt62",whiteSpace:"xuxw1ft",textOverflow:"xlyipyv",$$css:!0},helperText:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,whiteSpace:"xuxw1ft",$$css:!0}};function p(a){var b=d("WAWebUserPrefsMeUser").assertGetMe().getDeviceId();if(a.deviceId===b)return 0;else if(a.deviceId===d("WAWebAgentModelUtils").PRIMARY_DEVICE_ID)return 1;return 2}function q(a,b){return p(a)-p(b)}function r(){var a=d("WAWebAgentCollection").AgentCollection.filter(function(a){return!a.isDeleted});a.sort(q);return a}function s(a){var b=d("WAWebUserPrefsMeUser").assertGetMe().getDeviceId();a.deviceId===b?a=h._("__JHASH___29r88NSfdM__JHASH__"):a=null;return l.jsx(d("WAWebText.react").Text,{as:"span",color:"secondary",xstyle:o.helperText,children:a})}s.displayName=s.name+" [from "+f.id+"]";function t(){return l.jsx(c("WAWebFlexItem.react"),{grow:1,children:null})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var e=a.chats,f=a.onSave,g=a.entryPoint,i=function(){return new Map(e.map(function(a){var b=d("WAWebChatAssignmentCollection").ChatAssignmentCollection.getAgentCollectionForChatId(a.id);return[a.id.toString(),b.length>0?c("WANullthrows")(b.head()).id:null]}))};a=n(i);var j=a[0],p=a[1];d("useWAWebListener").useListener(d("WAWebChatAssignmentCollection").ChatAssignmentCollection,"add change remove",function(){p(i())});var q=function(){var a=j.get(e[0].id.toString()),b=!0;j.forEach(function(c){c!==a&&(a=null),c!=null&&(b=!1)});return{commonlyAssignedAgentId:a,areAllChatsUnassigned:b}};a=n(q().commonlyAssignedAgentId);var u=a[0],v=a[1];a=n(r());var w=a[0],x=a[1];d("useWAWebListener").useListener(d("WAWebAgentCollection").AgentCollection,"add change remove",function(){x(r())});a=function(){v(null)};a=l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",children:[l.jsx(d("WAWebText.react").WDSTextLarge,{as:"span",weight:"medium",children:h._("__JHASH__zblYrJgOhHy__JHASH__")}),l.jsx(d("WAWebWDSButton").WDSButtonSimplified,{nowrap:!0,disabled:!u,onClick:a,children:h._("__JHASH__OL0yQcPg2pe__JHASH__")})]});var y=function(){d("WAWebModalManager").ModalManager.close()},z=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_ASSIGN_CHAT,{annotations:{"int":{chats_count:e.length}}}),yield d("WAWebBizChatAssignmentAction").changeChatAssignment(e.map(function(a){return{chat:a,agentId:u}}),g),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_ASSIGN_CHAT,d("WAQplTypes").QuickLogActionType.SUCCESS),f==null?void 0:f()}catch(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_ASSIGN_CHAT,d("WAQplTypes").QuickLogActionType.FAIL),d("WALogger").ERROR(k(),a)}finally{d("WAWebModalManager").ModalManager.close()}});return function(){return a.apply(this,arguments)}}(),A=function(a){v(a.target.value)};w=w.map(function(a){return l.jsx("li",{children:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx("input",{id:a.id,className:"x2lah0s x1emribx x1xp8n7a xmix8c7",type:"radio",name:"agent",checked:a.id===u,value:a.id,onChange:A}),l.jsx(d("WAWebText.react").TextLabel,{htmlFor:a.id,size:"16",color:"secondary",xstyle:o.label,children:a.name}),l.jsx(t,{}),s(a)]})},a.id)});var B=function(){var a=q(),b=a.commonlyAssignedAgentId;a=a.areAllChatsUnassigned;return e.length>1?u==null?a:u===b:u===b};m(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_FETCH_ASSIGN_CHAT_AGENT_LIST,d("WAQplTypes").QuickLogActionType.SUCCESS)},[]);return l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:a,okText:h._("__JHASH__EDbCvhSa-Fy__JHASH__"),type:d("WAWebModal.react").ModalTheme.ChatAssignment,onCancel:y,onOK:z,okDisabled:B(),children:l.jsx("form",{children:l.jsx("ol",{children:w})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizOrderExpansionModal.react",["fbt","WAWebBizGatingUtils","WAWebBusinessOrderExpansionModalIcon","WAWebChatMsgIcon","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WAWebReceiptIcon","WAWebSecurityShieldLockIcon","WAWebText.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={illustration:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},modalTitle:{lineHeight:"xo0entv",textAlign:"x2b8uid",$$css:!0},iconColor:{color:"xx2jlie",$$css:!0},listItem:{lineHeight:"x132q4wb",$$css:!0}};function m(a){var b=a.onDismiss;a=a.onOk;return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:h._("__JHASH__m8KzLp1y7wJ__JHASH__"),onOverlayClick:b,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.horiz30,children:[k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.top28]),children:k.jsx(d("WAWebBusinessOrderExpansionModalIcon").BusinessOrderExpansionModalIcon,{width:360,height:128,xstyle:l.illustration})}),k.jsx(d("WAWebFlex.react").FlexRow,{children:k.jsx(d("WAWebText.react").TextDiv,{weight:"medium",size:"24",color:"dark",xstyle:[d("WAWebUISpacing").uiMargin.vert24,l.modalTitle],children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__GVKmRqk1o9D__JHASH__"):h._("__JHASH__wasG4ULCCEG__JHASH__")})}),k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiMargin.bottom16,d("WAWebUISpacing").uiPadding.horiz18],children:[k.jsx(d("WAWebChatMsgIcon").ChatMsgIcon,{height:22,width:22,xstyle:l.iconColor}),k.jsxs(d("WAWebText.react").TextDiv,{xstyle:d("WAWebUISpacing").uiMargin.start24,children:[k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"medium",color:"dark",xstyle:[d("WAWebUISpacing").uiMargin.bottom4,l.listItem],children:h._("__JHASH__C6fWMISW5sc__JHASH__")}),k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"normal",color:"secondary",xstyle:l.listItem,children:h._("__JHASH__i6RnpV6ticw__JHASH__")})]})]}),k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiMargin.bottom16,d("WAWebUISpacing").uiPadding.horiz18],children:[k.jsx(d("WAWebSecurityShieldLockIcon").SecurityShieldLockIcon,{height:22,width:22,xstyle:l.iconColor}),k.jsxs(d("WAWebText.react").TextDiv,{xstyle:d("WAWebUISpacing").uiMargin.start24,children:[k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"medium",color:"dark",xstyle:[d("WAWebUISpacing").uiMargin.bottom4,l.listItem],children:h._("__JHASH__i4X3v8NEyl9__JHASH__")}),k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"normal",color:"secondary",xstyle:l.listItem,children:h._("__JHASH__AOTAZk4vmdD__JHASH__")})]})]}),k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiMargin.bottom16,d("WAWebUISpacing").uiPadding.horiz18],children:[k.jsx(d("WAWebReceiptIcon").ReceiptIcon,{height:22,width:22,xstyle:l.iconColor}),k.jsxs(d("WAWebText.react").TextDiv,{xstyle:d("WAWebUISpacing").uiMargin.start24,children:[k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"medium",color:"dark",xstyle:[d("WAWebUISpacing").uiMargin.bottom4,l.listItem],children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__iiicKEVmKsx__JHASH__"):h._("__JHASH__gM2nT9GCvy8__JHASH__")}),k.jsx(d("WAWebText.react").TextDiv,{size:"16",weight:"normal",color:"secondary",xstyle:l.listItem,children:h._("__JHASH__Ynxm4D5xNVb__JHASH__")})]})]})]})})}m.displayName=m.name+" [from "+f.id+"]";a=function(a){var b=function(){a(),d("WAWebModalManager").ModalManager.close()},c=function(){a(),d("WAWebModalManager").ModalManager.close()};d("WAWebModalManager").ModalManager.open(k.jsx(m,{onDismiss:b,onOk:c}))};g.BizOrderExpansionModal=m;g.openOrderExpansionModal=a}),98);
__d("WAWebNuxBusinessProfileBanner.react",["fbt","WAWebABProps","WAWebBusinessProfileUtils","WAWebConnModel","WAWebContactCollection","WAWebCoolOffNuxBanner.react","WAWebDrawerManager","WAWebNux","WAWebNuxBanner","WAWebNuxCoolOff","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebStatusCollection","WAWebUserPrefsMeUser","WAWebWamEnumBannerTypes","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).createRef;function m(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser(),b=d("WAWebStatusCollection").StatusCollection.assertGet(a),c=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(a);a=d("WAWebContactCollection").ContactCollection.assertGet(a);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:b,profilePicThumb:c,contact:a,conn:d("WAWebConnModel").Conn,isInitialStep:!0}))}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$BusinessProfileBanner1=l(),c.getElement=function(){return c.$BusinessProfileBanner1.current},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.onInteract,b=new(d("WAWebNuxCoolOff").CoolOffNux)(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.INCOMPLETE_BUSINESS_PROFILE_BANNER,{metricField:d("WAWebWamEnumBannerTypes").BANNER_TYPES.SMB_EDIT_PROFILE});return k.jsx(c("WAWebCoolOffNuxBanner.react"),{ref:this.$BusinessProfileBanner1,title:h._("__JHASH__mgk-NkayyWr__JHASH__"),actionText:h._("__JHASH__Js_yRxQKfhj__JHASH__"),onDismiss:a,onClick:function(){m(),a==null?void 0:a()},nuxManager:b,theme:"nuxGreen"})};b.shouldShow=function(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();if(a==null)return!1;a=d("WAWebContactCollection").ContactCollection.assertGet(a).businessProfile;return!!a&&d("WAWebABProps").getABPropConfigValue("web_abprop_business_profile_incomplete_nux_banner")&&d("WAWebConnModel").Conn.isSMB&&!d("WAWebBusinessProfileUtils").isCompleteBizProfile(a)&&d("WAWebNuxCoolOff").shouldShowNUX(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.INCOMPLETE_BUSINESS_PROFILE_BANNER)};return b}(d("WAWebNuxBanner").NuxBanner);g["default"]=a}),98);
__d("WAWebNuxOrderExpansion.react",["fbt","WAWebBizGatingUtils","WAWebBizOrderExpansionModal.react","WAWebCoolOffNuxBanner.react","WAWebNux","WAWebNuxBanner","WAWebNuxCoolOff","WAWebOrdersExpansionUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).createRef,m={COOL_OFF_START_STORAGE_KEY:d("WAWebNux").CoolOffPeriodKeys.ORDER_EXPANSION,MAX_DISMISSES:1,MAX_CLICKS:1},n=function(){return d("WAWebOrdersExpansionUtils").isOrderExpansionBannerEnabled()&&d("WAWebNuxCoolOff").shouldShowNUX(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.ORDER_EXPANSION,m)};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$OrderExpansionBanner1=l(),c.getElement=function(){return c.$OrderExpansionBanner1.current},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.onInteract,b=new(d("WAWebNuxCoolOff").CoolOffNux)(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.ORDER_EXPANSION,m),e=function(){a==null?void 0:a(),d("WAWebBizOrderExpansionModal.react").openOrderExpansionModal(function(){return b.dismiss()})};return k.jsx(c("WAWebCoolOffNuxBanner.react"),{ref:this.$OrderExpansionBanner1,title:h._("__JHASH__S5tHnZ878nz__JHASH__"),subtitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._("__JHASH__JrAsFcQS8XM__JHASH__"):h._("__JHASH__GUXb51hb6sm__JHASH__"),actionText:h._("__JHASH__WQ3uOdrDI8q__JHASH__"),onDismiss:a,onClick:e,nuxManager:b,theme:"orderExpansion"})};b.shouldShow=function(){return n()};return b}(d("WAWebNuxBanner").NuxBanner);g.shouldShowOrderExpansionBanner=n;g.OrderExpansionBanner=a}),98);
__d("WAWebNuxProductCatalogBanner.react",["fbt","WAWebABProps","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCatalogCollection","WAWebCatalogManagementFlowLoadable","WAWebConnModel","WAWebCoolOffNuxBanner.react","WAWebNux","WAWebNuxBanner","WAWebNuxCoolOff","WAWebUserPrefsMeUser","WAWebWamEnumBannerTypes","WAWebWamEnumCatalogEntryPoint","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).createRef;function m(){if(!d("WAWebConnModel").Conn.isSMB)return!1;var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();if(a==null)return!1;a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);return d("WAWebBusinessProfileUtils").hasShop(a)}function n(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();if(!a)return!1;a=d("WAWebCatalogCollection").CatalogCollection.get(a);if(!a)return!1;a=a.productCollection.getProductModels(!0);return(a==null?void 0:a.length)>0}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ProductCatalogBanner1=l(),c.getElement=function(){return c.$ProductCatalogBanner1.current},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.onInteract,b=new(d("WAWebNuxCoolOff").CoolOffNux)(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.PRODUCT_CATALOG_BANNER,{metricField:d("WAWebWamEnumBannerTypes").BANNER_TYPES.SMB_CATALOG});return k.jsx(c("WAWebCoolOffNuxBanner.react"),{ref:this.$ProductCatalogBanner1,title:h._("__JHASH__vumx1w0Ke-q__JHASH__"),actionText:h._("__JHASH__OFISOZOwGES__JHASH__"),onDismiss:a,onClick:function(){d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow(null,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_NUX),a==null?void 0:a()},nuxManager:b,theme:"nuxGreen"})};b.shouldShow=function(){return d("WAWebABProps").getABPropConfigValue("web_abprop_product_catalog_nux_banner")&&d("WAWebConnModel").Conn.isSMB&&!m()&&!n()&&d("WAWebNuxCoolOff").shouldShowNUX(d("WAWebNux").NuxKeyTypes.COOL_OFF_NUX.PRODUCT_CATALOG_BANNER)};return b}(d("WAWebNuxBanner").NuxBanner);g["default"]=a}),98);
__d("WAWebChatlistPanelNuxBanners.react",["WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebCTWAConstants","WAWebCTWASuggestionCollection","WAWebConnModel","WAWebNuxBanners.react","WAWebNuxBusinessProfileBanner.react","WAWebNuxCtwaSuggestionBanner.react","WAWebNuxOrderExpansion.react","WAWebNuxProductCatalogBanner.react","WAWebNuxQuickPromotionChatListBanner.react","WAWebQuickPromotionCollection","WAWebUserPrefsMeUser","react","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useMemo,l=b.useState,m=function(a){return(a==null?void 0:(a=a.profileOptions)==null?void 0:a.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.NONE};function n(a){var b=a.meUser;a=c("useWAWebForceUpdate")();var e=k(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(b)},[b]),f=l(function(){return m(e)}),g=f[0],h=f[1];f=l(function(){return d("WAWebBusinessProfileCollection").BusinessProfileCollection.getValid(b)!=null});var i=f[0],n=f[1];d("useWAWebListener").useListener(e,"change",function(){n(!0),h(m(e))});var o=function(){var a;return(a=d("WAWebCTWASuggestionCollection").CTWASuggestionCollection.findFirstNotExpired())==null?void 0:a.suggestion};f=l(o);var p=f[0],q=f[1];d("useWAWebListener").useListener(d("WAWebCTWASuggestionCollection").CTWASuggestionCollection,"add",function(){q(o())});var r=function(){var a;return d("WAWebBizGatingUtils").qpCampaignsEnabled()?(a=d("WAWebQuickPromotionCollection").QuickPromotionCollection.bestPromotionForSurface({surfaceId:d("WAWebCTWAConstants").QP_SURFACE_ID_CHAT_LIST_TOP}))==null?void 0:a.promotion:null};f=l(r);var s=f[0],t=f[1];d("useWAWebListener").useListener(d("WAWebQuickPromotionCollection").QuickPromotionCollection,"add",function(){t(r())});f=[];i&&f.push(j.jsx(c("WAWebNuxBusinessProfileBanner.react"),{onInteract:a},"business"));g&&f.push(j.jsx(c("WAWebNuxProductCatalogBanner.react"),{onInteract:a},"catalog"));p!=null&&f.push(j.jsx(d("WAWebNuxCtwaSuggestionBanner.react").CTWASuggestionBanner,{onInteract:a,suggestion:p},"ctwa_suggestion"));s!=null&&f.push(j.jsx(d("WAWebNuxQuickPromotionChatListBanner.react").QuickPromotionChatListBanner,{onInteract:a,promotion:s},"quick_promotion"));d("WAWebNuxOrderExpansion.react").shouldShowOrderExpansionBanner()&&f.push(j.jsx(d("WAWebNuxOrderExpansion.react").OrderExpansionBanner,{onInteract:a},"order_expansion_banner"));return f.length?j.jsx(c("WAWebNuxBanners.react"),{children:f}):null}n.displayName=n.name+" [from "+f.id+"]";function a(){var a=d("WAWebUserPrefsMeUser").getMaybeMeUser();return!d("WAWebConnModel").Conn.isSMB||a==null?null:j.jsx(n,{meUser:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useWAWebArchivedChatsActivityIndicator",["WAWebChatCollection","WAWebConstantsDeprecated","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(0),b=a[0],e=a[1];a=j(!1);var f=a[0],g=a[1],h=function(){var a=d("WAWebChatCollection").ChatCollection.filter(function(a){return a.archive&&(a.optimisticUnreadCount>0||a.optimisticUnreadCount===c("WAWebConstantsDeprecated").MARKED_AS_UNREAD)}).length;e(a)},k=function(){var a=d("WAWebChatCollection").ChatCollection.filter(function(a){return a.archive&&a.isGroup&&(a.optimisticUnreadCount>0||a.optimisticUnreadCount===c("WAWebConstantsDeprecated").MARKED_AS_UNREAD)});a=a.some(function(a){var b;b=(b=(b=a.groupMetadata)==null?void 0:b.unreadMentionMetadata.getUnreadMentionCount())!=null?b:0;a=!a.archiveAtMentionViewedInDrawer;return b>0&&a});g(a)};d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"add remove reset change:archive change:optimisticUnreadCount change:muteExpiration",h);d("useWAWebListener").useListener(d("WAWebChatCollection").ChatCollection,"change:archive change:hasUnreadMention change:archiveAtMentionViewedInDrawer",k);i(function(){h(),k()},[]);return{unreadCount:b,showUnreadMentionIcon:f}}g.useArchivedChatsActivityIndicator=a}),98);
__d("WAWebChatArchivedEntryPoint.react",["fbt","WAWebArchivedFlowLoadable","WAWebArchivedIcon","WAWebChatFolderOpenWamEvent","WAWebChatUnreadCount.react","WAWebChatlistPanelDrawerButton.react","WAWebDrawerManager","WAWebMentionsIcon","WAWebTabOrder","react","useWAWebArchivedChatsActivityIndicator"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){var a=d("useWAWebArchivedChatsActivityIndicator").useArchivedChatsActivityIndicator(),b=a.unreadCount;a=a.showUnreadMentionIcon;var e=b!==0&&!a;e=e?j.jsx("div",{className:"x1rg5ohu xfs2ol5",children:j.jsx(d("WAWebChatUnreadCount.react").UnreadCount,{count:b,theme:d("WAWebChatUnreadCount.react").UnreadCountTheme.Transparent})}):null;var f=j.jsx(d("WAWebArchivedIcon").ArchivedIcon,{}),g=a?j.jsx("div",{className:"x1rg5ohu x6jxa94 xhvdbge x1nn3v0j x1366qx2",children:j.jsx(d("WAWebMentionsIcon").MentionsIcon,{})},"icon-mentions"):null;a=[h._("__JHASH__QKQ4BWr2oYn__JHASH__"),a?h._("__JHASH__wh9ykvnHf_H__JHASH__"):""].join(" ");g=j.jsxs(j.Fragment,{children:[g,e]});e=function(){new(d("WAWebChatFolderOpenWamEvent").ChatFolderOpenWamEvent)({activityIndicatorCount:b,folderType:"Archive"}).commit(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebArchivedFlowLoadable").ArchivedFlowLoadable,{onEnd:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}))};return j.jsx(c("WAWebChatlistPanelDrawerButton.react"),{dataTab:d("WAWebTabOrder").TAB_ORDER.ARCHIVED_ENTRY_POINT,ariaLabel:a,onClick:e,primary:h._("__JHASH__QKQ4BWr2oYn__JHASH__"),icon:f,detail:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebFbShopsSunsetButterbar.react",["fbt","WAWebABProps","WAWebBusinessProfileCollection","WAWebBusinessProfileTypes","WAWebButterbar.react","WAWebConnModel","WAWebExternalLink.react","WAWebFaqUrl","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react"));e.forwardRef;var l=e.useEffect,m=e.useState;e=24*60*60*1e3;var n=28*e;function o(){var a=Date.now(),b=c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.FB_SHOPS_SUNSET_BB_STATUS);return b!=null&&a-n<Number(b)}function p(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.FB_SHOPS_SUNSET_BB_STATUS,Date.now())}e=k.forwardRef(a);function a(a,e){a=m(!1);var f=a[0],g=a[1];l(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("WAWebConnModel").Conn.isSMB&&!o()&&d("WAWebABProps").getABPropConfigValue("show_shops_sunset_banner")){var a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(d("WAWebUserPrefsMeUser").getMeUser()));g(((a=a.profileOptions)==null?void 0:a.commerceExperience)===d("WAWebBusinessProfileTypes").CommerceExperienceTypes.SHOP)}})()},[]);return f?k.jsx(c("WAWebButterbar.react"),{ref:e,type:"announcement",title:h._("__JHASH__fCtUDPjHDsI__JHASH__"),text:k.jsxs("div",{children:[h._("__JHASH__tzRv75Uk0kD__JHASH__")," ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFbShopsSunsetFaqUrl(),children:h._("__JHASH__Y_2gxL3Ymgh__JHASH__")})]}),onDismiss:function(){g(!1),p()}},"FBShopsSunsetButterBar"):null}a.displayName=a.name+" [from "+f.id+"]";a=e;g["default"]=a}),98);
__d("WAWebLocaleManualUpdateButterbar.react",["fbt","WAWebActionLinkButterbar.react","WAWebButterbar.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");(i||(i=d("react"))).forwardRef;b=k.forwardRef(a);function a(a,b){a=a.shouldShow;return a?k.jsx(c("WAWebButterbar.react"),{ref:b,type:"generalAlert",title:h._("__JHASH__JjO6S3d2z0h__JHASH__"),text:k.jsxs(k.Fragment,{children:[h._("__JHASH__glYnuuxTHhZ__JHASH__"),k.jsx(c("WAWebActionLinkButterbar.react"),{children:h._("__JHASH__531P40Ka50F__JHASH__")})]}),action:function(){self.location.reload()}},"localemanualupdatebar"):null}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebNoticeButterbar.react",["WAWebButterbar.react","WAWebThemeContext","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");(h||(h=d("react"))).forwardRef;b=j.forwardRef(a);function a(a,b){var e=a.banner,f=a.onDismissNotice;a=a.shouldShow;var g=d("WAWebThemeContext").useIsDarkTheme();if(!a)return null;if(!(e==null?void 0:e.text))return null;a=e.iconDescription;var h=e.text;e=e.iconSvg;var i;e&&(i=g?e.dark:e.light);return j.jsx(c("WAWebButterbar.react"),{ref:b,type:"notice",text:h,iconSvg:i,iconDescription:(g=a)!=null?g:"",onDismiss:f},"noticebbar")}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("WAWebDoNotDisturbSettings.react",["fbt","WALogger","WAWebClock","WAWebCmd","WAWebDevOnlyBadge.react","WAWebDrawerSection.react","WAWebGuidePopup.react","WAWebModalManager","WAWebMuteCollection","WAWebMuteGetters","WAWebNotificationConstants","WAWebPushNotificationsGatingUtils","WAWebSettingsCheckList.react","WAWebSettingsFBT","WAWebStateUtils","WAWebSubscribePushManagerAction","WAWebText.react","WAWebTopMenuRedesignGatingUtils","WAWebUserPrefsNotifications","cr:6005","gkx","react","useWAWebMuteValues","useWAWebToggle"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] failed to subscribe push manager due to permission not granted, current permission: ",""]);j=function(){return a};return a}var k=i||c("react"),l={drawerTitle:{paddingTop:"x134lwj9",paddingEnd:"x4uap5",paddingBottom:"x1i2zvha",paddingStart:"xkhd6sd",$$css:!0},bottomDivider:{borderBottom:"x1w7fho5",$$css:!0}};function a(a){var e=a.mute,f=a.reactionsMute,g=d("useWAWebMuteValues").useMuteValues(e.id,[(a=d("WAWebMuteGetters")).getIsCallMuted,a.getCallExpiration,a.getIsMuted,a.getExpiration]),i=g[0],m=g[1];g[2];g[3];g=d("useWAWebMuteValues").useMuteValues(f.id,[a.getIsMuted,a.getExpiration,a.getIsCallMuted,a.getCallExpiration]);var n=g[0];g[1];g[2];g[3];g=(a=c("useWAWebToggle"))(function(){return d("WAWebMuteCollection").MuteCollection.getGlobalOfflineNotifications()},function(a){var b;d("WAWebMuteCollection").MuteCollection.setGlobalOfflineNotifications(a);if(a&&((b=window.Notification)==null?void 0:b.permission)!==d("WAWebNotificationConstants").PERMISSION_ALLOWED){d("WAWebModalManager").ModalManager.open(k.jsx((b=d("WAWebGuidePopup.react")).GuidePopup,{messaging:b.Messaging.BACKGROUND_SYNC,onConfirm:b.guideConfirm,onCancel:b.notificationGuideLearnMore,type:b.GuidePopupType.GUIDE_ALLOW}));window.Notification.requestPermission(function(b){d("WAWebModalManager").ModalManager.close(),d("WAWebCmd").Cmd.onNotificationPermissionChange(),b===d("WAWebNotificationConstants").PERMISSION_ALLOWED?d("WAWebSubscribePushManagerAction").handleOfflineNotifications(a):d("WALogger").WARN(j(),b)})}else a||(d("WAWebUserPrefsNotifications").setOfflineNotificationsBBStatus({isDismissed:!0}),d("WAWebUserPrefsNotifications").setOfflineNotificationsInternalEnabledOnce()),d("WAWebSubscribePushManagerAction").handleOfflineNotifications(a)});var o=g[0];g=g[1];var p=a(function(){return d("WAWebMuteCollection").MuteCollection.getOutgoingMessageSound()},function(a){return d("WAWebMuteCollection").MuteCollection.setOutgoingMessageSound(a)}),q=p[0];p=p[1];var r=a(function(){return d("WAWebMuteCollection").MuteCollection.getGlobalSounds()},function(a){return d("WAWebMuteCollection").MuteCollection.setGlobalSounds(a)}),s=r[0];r=r[1];var t=a(function(){return d("WAWebMuteCollection").MuteCollection.getGlobalCallRingtone()},function(a){return d("WAWebMuteCollection").MuteCollection.setGlobalCallRingtone(a)}),u=t[0];t=t[1];var v=a(function(){return d("WAWebMuteCollection").MuteCollection.getGlobalPreviews()},function(a){return d("WAWebMuteCollection").MuteCollection.setGlobalPreviews(a)}),w=v[0],x=v[1];v=a(function(){return d("WAWebMuteCollection").MuteCollection.getCollapseMuted()},function(a){return d("WAWebMuteCollection").MuteCollection.setCollapseMuted(a)});var y=v[0];v=v[1];a=a(function(){return d("WAWebMuteCollection").MuteCollection.getGlobalNotifications()},function(a){d("WAWebMuteCollection").MuteCollection.setGlobalNotifications(a);a?(w||x(),n&&d("WAWebCmd").Cmd.muteAll(d("WAWebStateUtils").unproxy(f),!1,!0,!0)):d("WAWebUserPrefsNotifications").setWebNotificationsBBStatus({isDismissed:!0});if(a&&((a=window.Notification)==null?void 0:a.permission)!==d("WAWebNotificationConstants").PERMISSION_ALLOWED){d("WAWebModalManager").ModalManager.open(k.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.NOTIFICATIONS,onConfirm:a.guideConfirm,onCancel:a.notificationGuideLearnMore,type:a.GuidePopupType.GUIDE_ALLOW}));window.Notification.requestPermission(function(a){d("WAWebModalManager").ModalManager.close(),d("WAWebCmd").Cmd.onNotificationPermissionChange()})}});var z=a[0];a=a[1];var A=function(){d("WAWebCmd").Cmd.muteAll(d("WAWebStateUtils").unproxy(f),!n,!0)},B=function(){d("WAWebCmd").Cmd.muteAllCall(d("WAWebStateUtils").unproxy(e),!i)},C=[];window.Notification&&(C.push(k.jsx(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"desktop-notifications",checked:z,onChange:a,children:d("WAWebSettingsFBT").desktopAlertsTitle()},0)),C.push(k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,disabled:!z,id:"msg-previews",checked:w,onChange:x,children:[d("WAWebSettingsFBT").messagePreviewsTitle(),k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebSettingsFBT").messagePreviewsSubtitle()})]},1)));C=k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"desktop-notifications",checked:z,checkboxRightAligned:!0,onChange:a,children:[d("WAWebSettingsFBT").messageNotificationsTitle(),k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebSettingsFBT").messageNotificationsSubtitle()})]});a=k.jsx(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"msg-previews",checked:z&&w,onChange:x,disabled:!z,checkboxRightAligned:!0,children:d("WAWebSettingsFBT").showPreviewsTitle()});var D;if(d("WAWebPushNotificationsGatingUtils").canEnableOfflineNotifications()&&window.Notification){var E=h._("__JHASH___oPGNUrRiNp__JHASH__");D=k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"offline-notifications",checked:o,checkboxRightAligned:!0,onChange:g,children:[E,k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebSettingsFBT").offlineSyncSubtitle()})]})}var F;if(!c("gkx")("26258")){o=h._("__JHASH__bspZzHMlY30__JHASH__");F=k.jsx(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"collapse-muted",checked:y,checkboxRightAligned:!0,onChange:v,children:o})}var G;if(!c("gkx")("26258")){g=h._("__JHASH__QmBgTCKe6zM__JHASH__");G=k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"outgoing-message-sound",checked:q,checkboxRightAligned:!0,onChange:p,children:[g,k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebSettingsFBT").outgoingAudioToneSubtitle()})]})}E=k.jsx(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"reactions-mute-desktop-notifications",checked:z&&!n,checkboxRightAligned:!0,disabled:!z,onChange:A,children:d("WAWebSettingsFBT").showReactionsTitle()});y=c("gkx")("26255")?k.jsx(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"call-ringtone",checked:u,checkboxRightAligned:!0,onChange:t,children:d("WAWebSettingsFBT").incomingRingtoneTitle()}):null;v=c("gkx")("26255")?k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"mute-desktop-call-notifications",checked:i,checkboxRightAligned:!0,onChange:B,children:[d("WAWebSettingsFBT").muteAllDesktopCallsTitle(),i&&m!=null?k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebClock").Clock.untilStr(m)}):null]}):null;o=k.jsxs(d("WAWebSettingsCheckList.react").SettingsCheckListItem,{testid:void 0,id:"sounds",checked:s,checkboxRightAligned:!0,onChange:r,children:[d("WAWebSettingsFBT").soundsTitle(),k.jsx(d("WAWebText.react").TextDiv,{theme:"muted",children:d("WAWebSettingsFBT").soundsSubtitle()})]});q=b("cr:6005")?k.jsx(b("cr:6005"),{}):null;p=h._("__JHASH__cZCp7r1ZaIH__JHASH__");g=k.jsx(d("WAWebDevOnlyBadge.react").DevOnlyBadge,{label:h._("__JHASH__vYSlrL2oWHU__JHASH__")});return k.jsxs("div",{children:[k.jsxs(c("WAWebDrawerSection.react"),{theme:"padding-no-vertical",title:p,titleXStyle:l.drawerTitle,animation:!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled(),children:[k.jsx("div",{className:"x1w7fho5",children:C}),a,E]}),k.jsxs(c("WAWebDrawerSection.react"),{theme:"padding",animation:!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled(),children:[D,o,y,v]}),c("gkx")("26258")?null:k.jsxs(c("WAWebDrawerSection.react"),{theme:"padding",title:g,animation:!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled(),children:[G,q,F]})]})}a.displayName=a.name+" [from "+f.id+"]";g.DoNotDisturbSettings=a}),98);
__d("WAWebNotificationsDrawer.react",["fbt","WAWebDoNotDisturbSettings.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebMuteCollection","WAWebTopMenuRedesignGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).forwardRef;b=a(function(a,b){return k.jsxs(c("WAWebDrawer.react"),{ref:b,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._("__JHASH__Z2krU6UbdAF__JHASH__"),onCancel:a.onCancel,onBack:a.onClose,type:d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.LARGE,focusBackOrCancel:!0}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsx(d("WAWebDoNotDisturbSettings.react").DoNotDisturbSettings,{mute:d("WAWebMuteCollection").MuteCollection.globalMute(),reactionsMute:d("WAWebMuteCollection").MuteCollection.globalReactionsMute()},"notifications")})]})});e=b;g["default"]=e}),98);
__d("WAWebDesktopUpsellButterbar.react",["fbt","WATimeUtils","WAWebActionLinkButterbar.react","WAWebButterbar.react","WAWebDesktopUpsellUtils","WAWebMobilePlatforms","WAWebNux","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWamEnumWebcButterbarActionType","WAWebWamEnumWebcButterbarBbType","WAWebWamEnumWebcNativeUpsellCtaSourceType","WAWebWebcButterbarEventWamEvent","WAWebWebcNativeUpsellCtaWamEvent","asyncToGeneratorRuntime","react","useWAWebNux","useWAWebTimeout"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||d("react"),l=i||(i=c("react")),m=k.forwardRef,n=k.useCallback,o=k.useEffect,p=k.useState,q=14*d("WATimeUtils").DAY_SECONDS;k=m(function(a,e){var f=r(),g=f.title,i=f.action;f=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{a.shownInQrScreen===!0?yield new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaSource:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.QR_BANNER}).commitAndWaitForFlush(!0):(new(d("WAWebWebcButterbarEventWamEvent").WebcButterbarEventWamEvent)({webcButterbarType:d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UWP_UPSELL,webcButterbarAction:d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA}).commit(),yield new(d("WAWebWebcNativeUpsellCtaWamEvent").WebcNativeUpsellCtaWamEvent)({webcNativeUpsellCtaSource:d("WAWebWamEnumWebcNativeUpsellCtaSourceType").WEBC_NATIVE_UPSELL_CTA_SOURCE_TYPE.BUTTERBAR}).commitAndWaitForFlush(!0))}catch(a){}i()});return function(){return c.apply(this,arguments)}}();return l.jsx(c("WAWebButterbar.react"),{ref:e,type:"webDesktopUpsell",title:g,text:l.jsxs(l.Fragment,{children:[h._("__JHASH__FgCZga4kMbD__JHASH__"),l.jsx(c("WAWebActionLinkButterbar.react"),{children:h._("__JHASH__e_MmRl6SGg8__JHASH__")})]}),action:f,onDismiss:a.onDismiss},"web_desktop_upsell")});function r(){return{title:h._("__JHASH__qz1wEH3hPGZ__JHASH__"),action:function(){}}}function a(){var a=c("useWAWebNux")(d("WAWebNux").NUX.DESKTOP_UPSELL),b=a[0];a[1];var e=a[2];a=!1;var f=s(),g=!d("WAWebMobilePlatforms").isSMB()&&f&&b&&a;if(g){f=u();f==null?v():g=d("WATimeUtils").happenedWithin(f,q)}b=n(function(){g&&e()},[g,e]);d("useWAWebTimeout").useAlarm(b,w(),{immediate:!0,isGlobal:!0});return[g,e]}function e(){var a=!1,b=s();return a&&b}function f(){var a=!1,b=d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPSync();return a&&b===!0}function s(){var a=p(!1),b=a[0],c=a[1];o(function(){d("WAWebDesktopUpsellUtils").isWebUserOnSupportedWindowsOSForUWPAsync().then(function(a){c(a)})},[]);return b}var t=null;function u(){if(t!=null)return t;var a=parseInt(c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.FIRST_SEEN_DESKTOP_UPSELL_BBAR),10);Number.isNaN(a)||(t=d("WATimeUtils").castToUnixTime(a));return t}function v(){c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.FIRST_SEEN_DESKTOP_UPSELL_BBAR,d("WATimeUtils").unixTime())}function w(){var a=u();return a==null?d("WATimeUtils").unixTime():d("WATimeUtils").futureUnixTime(q,a)}g.DesktopUpsellButterBar=k;g.getCommonDesktopUpsellUiContent=r;g.useShouldShowDesktopUpsellButterbar=a;g.useShouldShowDesktopUpsellIntroPanelCTA=e;g.useShowDesktopUpsellChatlistDropdownMenuButton=f;g.useCanUserDownloadUwp=s}),98);
__d("WAWebOfflineButterbar.react",["fbt","WAShiftTimer","WAWebActionLinkButterbar.react","WAWebButterbar.react","WAWebSocketModel","WAWebWamEnumWebcButterbarActionType","WAWebWamEnumWebcButterbarBbType","WAWebWebcButterbarEventWamEvent","react","useWAWebLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));b.forwardRef;var l=b.useEffect,m=b.useState,n=3e3;e=k.forwardRef(a);function a(a,b){a=m(!0);var e=a[0],f=a[1],g=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){f(!0)})});l(function(){return function(){g.current.cancel()}},[]);var i=function(){d("WAWebSocketModel").Socket.reconnect(),f(!1),g.current.onOrAfter(n)};e?(a=k.jsxs(k.Fragment,{children:[h._("__JHASH__6qZCveHwKrc__JHASH__"),k.jsx(c("WAWebActionLinkButterbar.react"),{action:function(){new(d("WAWebWebcButterbarEventWamEvent").WebcButterbarEventWamEvent)({webcButterbarType:d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.OFFLINE,webcButterbarAction:d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA}).commit(),i()},children:h._("__JHASH__LPAKgmVgbxa__JHASH__")})]}),e=h._("__JHASH__OhLnEH2nl6O__JHASH__")):(a=null,e=h._("__JHASH__8Az8ab1QIks__JHASH__"));return k.jsx(c("WAWebButterbar.react"),{ref:b,type:"computer",title:e,text:a,textTestid:"chat-butterbar-offline"})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebOfflineProgressButterbar.react",["fbt","WAShiftTimer","WAWebButterbar.react","WAWebCmd","WAWebL10N","WAWebOfflineHandler","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react"));b=a.forwardRef;var l=a.useState,m=120*1e3;e=b(function(a,b){a=l(0);var e=a[0],f=a[1];a=l(!1);var g=a[0],i=a[1];d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"offline_progress_update",function(){f(d("WAWebOfflineHandler").OfflineMessageHandler.getOfflineDeliveryProgress())});new(d("WAShiftTimer").ShiftTimer)(function(){i(!0)}).onOrAfter(m);a=h._("__JHASH__hu3q90lSUe7__JHASH__",[h._param("percentage",c("WAWebL10N").n(e))]);e=g?h._("__JHASH__De1gFGIJu8f__JHASH__"):"";return k.jsx(c("WAWebButterbar.react"),{ref:b,type:"resumeProgress",title:a,text:e})});g.ResumeProgress=e}),98);
__d("WAWebResumeButterbar.react",["fbt","WAShiftTimer","WAWeb-moment","WAWebActionLinkButterbar.react","WAWebButterbar.react","WAWebSocketModel","WAWebStreamModel","WAWebWamEnumWebcButterbarActionType","WAWebWamEnumWebcButterbarBbType","WAWebWebcButterbarEventWamEvent","react","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));b.forwardRef;var l=b.useEffect,m=b.useState;e=k.forwardRef(a);function a(a,b){a=m(!1);var e=a[0],f=a[1];a=m(!1);var g=a[0],i=a[1],j=c("useWAWebForceUpdate")(),n=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){f(!0),i(!0)})}),o=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(){j()})});l(function(){n.current.onOrBefore(3e3);return function(){n.current.cancel(),o.current.cancel()}},[]);var p=function(){o.current.cancel(),n.current.onOrBefore(3e3),f(!1)};d("useWAWebListener").useListener(d("WAWebSocketModel").Socket,"change:state",p);if(d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.OPENING)a=h._("__JHASH__weKSIEgSRNQ__JHASH__");else if(d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.CONNECTING)a=h._("__JHASH__8Az8ab1QIks__JHASH__");else return null;var q=function(){d("WAWebSocketModel").Socket.reconnect(),p()};if(e){o.current.onOrAfter(1e3);e=d("WAWebSocketModel").Socket.retryTimestamp-Date.now();var r;if(isNaN(e)||e<1)r=h._("__JHASH__yRCBOt8MgQB__JHASH__");else if(e<6e4){var s=Math.ceil(e/1e3);r=h._("__JHASH__p1gMa0_sJxd__JHASH__",[h._plural(s,"number")])}else r=h._("__JHASH__QfzZqJYGY9p__JHASH__",[h._param("duration",c("WAWeb-moment").duration(e).humanize())]);s=k.jsxs(k.Fragment,{children:[r,k.jsx(c("WAWebActionLinkButterbar.react"),{action:function(){new(d("WAWebWebcButterbarEventWamEvent").WebcButterbarEventWamEvent)({webcButterbarType:d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.RESUME_CONNECTING,webcButterbarAction:d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA}).commit(),q()},children:h._("__JHASH__XnRGfI_IHe1__JHASH__")})]})}else g?s=k.jsx("span",{children:h._("__JHASH__yRCBOt8MgQB__JHASH__")}):s=null;return k.jsx(c("WAWebButterbar.react"),{ref:b,type:"computer",title:a,text:s})}a.displayName=a.name+" [from "+f.id+"]";b=e;g["default"]=b}),98);
__d("WAWebPrimaryButterbar.react",["fbt","WATimeUtils","WAWebActionLinkButterbar.react","WAWebButterbar.react","WAWebDesktopUpsellButterbar.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebNotificationConstants","WAWebOfflineButterbar.react","WAWebOfflineProgressButterbar.react","WAWebPushNotificationsGatingUtils","WAWebResumeButterbar.react","WAWebSettingsFBT","WAWebStreamModel","WAWebUpdater","WAWebUserPrefsNotifications","WAWebWamEnumWebcButterbarActionType","WAWebWamEnumWebcButterbarBbType","WAWebWebcButterbarEventWamEvent","gkx","react","useWAWebForceUpdate"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");(i||(i=d("react"))).forwardRef;var l=null;b=k.forwardRef(a);function a(a,b){var e=a.displayInfo,f=a.isMuted,g=a.needsManualDownload,i=a.needsUpdate,j=a.notifyPermission,s=a.onEnableOfflineNotifications,t=a.onRequestPermissions,u=a.onShowNotifyDelay,v=a.showNotify;a=a.showResumeProgress;var w=null,x=null,y=c("useWAWebForceUpdate")(),z=d("WAWebDesktopUpsellButterbar.react").useShouldShowDesktopUpsellButterbar(),A=z[0],B=z[1];switch(e){case d("WAWebStreamModel").StreamInfo.OFFLINE:x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.OFFLINE;w=k.jsx(c("WAWebOfflineButterbar.react"),{ref:b},"bbar");break;case d("WAWebStreamModel").StreamInfo.OPENING:case d("WAWebStreamModel").StreamInfo.CONNECTING:x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.RESUME_CONNECTING;w=k.jsx(c("WAWebResumeButterbar.react"),{ref:b},"bbar");break;case d("WAWebStreamModel").StreamInfo.NORMAL:break;case d("WAWebStreamModel").StreamInfo.RESUMING:case d("WAWebStreamModel").StreamInfo.TIMEOUT:z=k.jsxs(k.Fragment,{children:[h._("__JHASH__aQOujGTVaNH__JHASH__"),k.jsx(c("WAWebActionLinkButterbar.react"),{action:o,children:h._("__JHASH__RR1bpeluTQm__JHASH__")})]});x=null;w=k.jsx(c("WAWebButterbar.react"),{ref:b,type:"phone",title:h._("__JHASH__iJsWoqBZeLS__JHASH__"),text:z},"bbar");break;default:break}w==null&&a&&(x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.RESUME_LOADING_MSGS_PROGRESS,w=k.jsx(d("WAWebOfflineProgressButterbar.react").ResumeProgress,{ref:b}));if(w==null&&i){x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UPDATE_DUE_TO_SOFT_MIN;e=k.jsx(c("WAWebActionLinkButterbar.react"),{children:h._("__JHASH__x4o7lWKV60O__JHASH__")});w=k.jsx(c("WAWebButterbar.react"),{ref:b,type:"update",title:h._("__JHASH__qUWw4zj0uK6__JHASH__"),text:e,action:function(){r(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UPDATE_DUE_TO_SOFT_MIN,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA),m()}},"bbar")}if(c("gkx")("26255")&&g){x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UPDATE_DUE_TO_SOFT_MIN;z=k.jsx(c("WAWebActionLinkButterbar.react"),{children:h._("__JHASH__q65VKrhCe7___JHASH__")});w=k.jsx(c("WAWebButterbar.react"),{ref:b,type:"update",title:h._("__JHASH__WftczvPoqV0__JHASH__"),text:z,action:function(){r(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UPDATE_DUE_TO_SOFT_MIN,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA),n()}},"bbar")}w==null&&A&&(x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UWP_UPSELL,w=k.jsx(d("WAWebDesktopUpsellButterbar.react").DesktopUpsellButterBar,{ref:b,onDismiss:function(){q(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.UWP_UPSELL),B()}}));if(w==null&&window.Notification&&j===d("WAWebNotificationConstants").PERMISSION_DEFAULT&&!f&&p())if(v){x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.NOTIFICATION;a=k.jsxs("div",{children:[h._("__JHASH__eyaYrhCjOh8__JHASH__"),k.jsx(c("WAWebActionLinkButterbar.react"),{children:h._("__JHASH__23q4UHXZ68s__JHASH__")})]});w=k.jsx(c("WAWebButterbar.react"),{ref:b,type:"notification",onDismiss:function(){q(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.NOTIFICATION),d("WAWebUserPrefsNotifications").setWebNotificationsBBStatus({isDismissed:!0}),y()},title:h._("__JHASH__tOje8rv9Gx4__JHASH__"),text:a,action:function(){r(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.NOTIFICATION,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA),t()}},"bbar")}else u();else if(!v&&(d("WAWebPushNotificationsGatingUtils").canEnableOfflineNotifications()&&window.Notification&&j!==d("WAWebNotificationConstants").PERMISSION_DENIED&&w==null)){i=d("WAWebUserPrefsNotifications").getOfflineNotificationsBBStatus();g=(e=i.isDismissed)!=null?e:!1;z=i.firstSeenTime;A=d("WAWebUserPrefsNotifications").getGlobalOfflineNotifications();!g&&(!A||A&&j===d("WAWebNotificationConstants").PERMISSION_DEFAULT)&&(z==null&&(z=d("WATimeUtils").unixTime(),d("WAWebUserPrefsNotifications").setOfflineNotificationsBBStatus({isDismissed:!1,firstSeenTime:z})),d("WATimeUtils").unixTime()-z<=7*d("WATimeUtils").DAY_SECONDS&&(x=d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.OFFLINE_NOTIFICATION,w=k.jsx(c("WAWebButterbar.react"),{ref:b,type:"notification",onDismiss:function(){q(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.OFFLINE_NOTIFICATION),d("WAWebUserPrefsNotifications").setOfflineNotificationsBBStatus({isDismissed:!0}),y()},title:h._("__JHASH__LkzUvAR-iyK__JHASH__"),text:d("WAWebSettingsFBT").offlineSyncSubtitle(),action:function(){r(d("WAWebWamEnumWebcButterbarBbType").WEBC_BUTTERBAR_BB_TYPE.OFFLINE_NOTIFICATION,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_CTA),s()}},"bbar")))}w!=null&&x&&l!==x&&(l!=null&&r(l,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.AUTO_DISMISS),l=x,r(x,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.IMPRESSION));return w}a.displayName=a.name+" [from "+f.id+"]";e=b;function m(){d("WAWebUpdater").Updater.restart()}function n(){d("WAWebUpdater").Updater.manualDownload()}function o(){d("WAWebExternalLink.react").openExternalLink(d("WAWebFaqUrl").getCannotConnectFaqUrl())}function p(){var a=d("WAWebUserPrefsNotifications").getWebNotificationsBBStatus(),b=a.isDismissed;a=a.firstSeenTime;if(a==null)d("WAWebUserPrefsNotifications").setWebNotificationsBBStatus({isDismissed:!1,firstSeenTime:d("WATimeUtils").unixTime()});else if(b||d("WATimeUtils").unixTime()-a>4*d("WATimeUtils").WEEK_SECONDS)return!1;return!0}function q(a){l=null,r(a,d("WAWebWamEnumWebcButterbarActionType").WEBC_BUTTERBAR_ACTION_TYPE.CLICK_DISMISS)}function r(a,b){new(d("WAWebWebcButterbarEventWamEvent").WebcButterbarEventWamEvent)({webcButterbarType:a,webcButterbarAction:b}).commit()}g["default"]=e}),98);
__d("WAWebChatButterbar.react",["fbt","WALogger","WANullthrows","WAShiftTimer","WASyncdDisabled","WAWebCmd","WAWebDrawerManager","WAWebFbShopsSunsetButterbar.react","WAWebGuidePopup.react","WAWebL10N","WAWebLocaleManualUpdateButterbar.react","WAWebModalManager","WAWebMuteCollection","WAWebMuteGetters","WAWebNoticeButterbar.react","WAWebNoticeModel","WAWebNotificationConstants","WAWebNotificationsDrawer.react","WAWebOfflineHandler","WAWebOfflineResumeTypes.flow","WAWebPrimaryButterbar.react","WAWebPushNotificationsGatingUtils","WAWebServerPropsModel","WAWebStreamModel","WAWebSubscribePushManagerAction","WAWebToast.react","WAWebToastManager","WAWebUserNoticeWamEvent","WAWebUserPrefsGeneral","WAWebVelocityTransitionGroup","WAWebWamEnumUserNoticeEvent","cr:5037","cr:5646","cr:5685","cr:5735","gkx","react","useWAWebForceUpdate","useWAWebLazyRef","useWAWebListener","useWAWebModelValues","useWAWebMuteValues","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Enable offline notifications failed: window.Notification unavailable or denied"]);k=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useState,o={container:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",$$css:!0}},p=1e4;function q(a){var e,f=a.setShowButterBar,g=c("useWAWebForceUpdate")();d("useWAWebModelValues").useModelValues(a.stream,["displayInfo","needsUpdate"].concat(c("gkx")("26255")?["needsManualDownload"]:[]));d("useWAWebModelValues").useModelValues(a.notice,["noticeId","blocking","banner","shouldShowButterBar"]);a=d("useWAWebMuteValues").useMuteValues(a.mute.id,[d("WAWebMuteGetters").getIsMuted]);a=a[0];e=n((e=window.Notification)==null?void 0:e.permission);var i=e[0],j=e[1];e=n(!1);var q=e[0],r=e[1];e=n(!1);var s=e[0],t=e[1];e=n(!1);var u=e[0],v=e[1];e=n(function(){return d("WASyncdDisabled").isSyncdDisabled()});var w=e[0],x=e[1];e=n(function(){return!1});var y=e[0],z=e[1];y=n(function(){return c("gkx")("26258")?null:d("WAWebUserPrefsGeneral").getStorageAlert()});e=y[0];var A=y[1],B=c("useWAWebLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){r(a)})});y=n(d("WAWebOfflineHandler").OfflineMessageHandler.getResumeUIProgressBarType()===d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.ButterBar);var C=y[0],D=y[1];y=function(){B.current.onOrBefore(p,!0)};var E=function(){var a;d("WAWebModalManager").ModalManager.open(l.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.NOTIFICATIONS,onConfirm:a.guideConfirm,onCancel:a.notificationGuideLearnMore,type:a.GuidePopupType.GUIDE_ALLOW}));window.Notification.requestPermission(function(a){d("WAWebModalManager").ModalManager.close();j(a);if(a===d("WAWebNotificationConstants").PERMISSION_ALLOWED){a=d("WAWebMuteCollection").MuteCollection.getGlobalNotifications();a||d("WAWebMuteCollection").MuteCollection.setGlobalNotifications(!0);if(d("WAWebPushNotificationsGatingUtils").canEnableOfflineNotifications()){a=d("WAWebMuteCollection").MuteCollection.getGlobalOfflineNotifications();a||(d("WAWebSubscribePushManagerAction").handleOfflineNotifications(!0),d("WAWebMuteCollection").MuteCollection.setGlobalOfflineNotifications(!0))}}})},F=function(){if(window.Notification&&i===d("WAWebNotificationConstants").PERMISSION_ALLOWED){d("WAWebMuteCollection").MuteCollection.setGlobalOfflineNotifications(!0);d("WAWebSubscribePushManagerAction").handleOfflineNotifications(!0);g();var a=h._("__JHASH__VHGVKIYwy2t__JHASH__"),b=h._("__JHASH__Vz65ZOpDhM4__JHASH__");d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:a,duration:6e3,action:{actionText:b,onAction:function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(l.jsx(c("WAWebNotificationsDrawer.react"),{onCancel:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}}))}}}),d("WAWebToastManager").ToastPosition.RIGHT)}else if(window.Notification&&i===d("WAWebNotificationConstants").PERMISSION_DEFAULT){d("WAWebModalManager").ModalManager.open(l.jsx((a=d("WAWebGuidePopup.react")).GuidePopup,{messaging:a.Messaging.BACKGROUND_SYNC,onConfirm:a.guideConfirm,onCancel:a.notificationGuideLearnMore,type:a.GuidePopupType.GUIDE_ALLOW}));window.Notification.requestPermission(function(a){d("WAWebModalManager").ModalManager.close();j(a);if(a===d("WAWebNotificationConstants").PERMISSION_ALLOWED){a=d("WAWebMuteCollection").MuteCollection.getGlobalOfflineNotifications();a||(d("WAWebMuteCollection").MuteCollection.setGlobalOfflineNotifications(!0),d("WAWebSubscribePushManagerAction").handleOfflineNotifications(!0))}})}else d("WALogger").WARN(k())},G=function(){return c("WAWebNoticeModel").shouldShowButterBar&&c("WAWebNoticeModel").noticeId!=null&&c("WAWebNoticeModel").banner!=null&&c("WAWebNoticeModel").blocking===!1},H=function(){if(G()&&!s){var a=new(d("WAWebUserNoticeWamEvent").UserNoticeWamEvent)({userNoticeId:c("WAWebNoticeModel").noticeId,userNoticeContentVersion:c("WAWebNoticeModel").policyVersion,userNoticeEvent:d("WAWebWamEnumUserNoticeEvent").USER_NOTICE_EVENT.BANNER_APPEAR});a.commit();t(!0)}},I=function(){!w&&d("WASyncdDisabled").isSyncdDisabled()&&x(!0)},J=function(){c("gkx")("26258")||A(d("WAWebUserPrefsGeneral").getStorageAlert())},K=function(){t(!1)},L=function(){z(!1)};L=function(){c("WAWebNoticeModel").dismissButterBarNotice()};var M=function(){f&&f(q||s)};m(function(){M()},[]);c("useWAWebOnUnmount")(function(){B.current.cancel()});d("useWAWebListener").useListener(c("WAWebNoticeModel"),"change:noticeId",K);d("useWAWebListener").useListener(c("WAWebNoticeModel"),["change:banner","change:blocking"],H);d("useWAWebListener").useListener(c("gkx")("26258")?d("WAWebCmd").Cmd:null,"handle_fatal_error",I);d("useWAWebListener").useListener(c("gkx")("26258")?d("WAWebCmd").Cmd:null,"handle_low_storage_butter_bar",J);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"on_notification_permission_change",function(){j(window.Notification.permission)});d("useWAWebListener").useListener(c("WAWebL10N"),"locale_changed_on_phone",function(a){var b=a.newLocale;a=a.currentLocale;b!==a?v(!0):v(!1)});d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["offline_progress_update","offline_delivery_end"],function(){D(d("WAWebOfflineHandler").OfflineMessageHandler.getResumeUIProgressBarType()===d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.ButterBar)});if(d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.RESUMING||d("WAWebStreamModel").Stream.displayInfo===d("WAWebStreamModel").StreamInfo.TIMEOUT)return b("cr:5685")&&w?l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",xstyle:o.container,children:l.jsx(b("cr:5685"),{shouldShow:w})}):null;K=c("gkx")("26255")?d("WAWebStreamModel").Stream.needsManualDownload:!1;H=null;I=b("cr:5685")?l.jsx(b("cr:5685"),{shouldShow:c("WANullthrows")(w)}):null;J=b("cr:5735")?l.jsx(b("cr:5735"),{alertType:e}):null;e=c("gkx")("26257")?null:l.jsx(c("WAWebLocaleManualUpdateButterbar.react"),{shouldShow:u});u=c("gkx")("26255")&&c("gkx")("26265")&&b("cr:5646")?l.jsx(b("cr:5646"),{}):null;return l.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",xstyle:o.container,testid:void 0,children:[I,H,J,u,e,l.jsx(c("WAWebNoticeButterbar.react"),{shouldShow:G(),banner:c("WAWebNoticeModel").banner,onDismissNotice:d("WAWebServerPropsModel").ServerProps.greenAlertBannerDuration===0?null:L}),l.jsx(c("WAWebPrimaryButterbar.react"),{displayInfo:d("WAWebStreamModel").Stream.displayInfo,needsUpdate:d("WAWebStreamModel").Stream.needsUpdate,needsManualDownload:K,showResumeProgress:C,showNotify:q,isMuted:a,notifyPermission:i,onShowNotifyDelay:y,onRequestPermissions:E,onEnableOfflineNotifications:F}),l.jsx(c("WAWebFbShopsSunsetButterbar.react"),{})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){a=a.setShowButterBar;return l.jsx(q,{stream:d("WAWebStreamModel").Stream,notice:c("WAWebNoticeModel"),mute:d("WAWebMuteCollection").MuteCollection.globalMute(),setShowButterBar:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatListFiltersLabelsPill.react",["fbt","WAWebChatListFilterLabelsDropdownMenu.react","WAWebChevronDownAltIcon","WAWebFilterLogging","WAWebLabelCollection","WAWebLabels.react","WAWebListFilterButton.react","WAWebTabOrder","WAWebUimUie.react","WAWebUimUieMenu.react","react"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react")),l=a.useMemo,m=a.useRef,n=a.useState;b=function(a){var b=a.isSelected,e=a.onClick,f=a.filterSession,g=a.selectedLabelId;a=n(!1);var i=a[0],j=a[1],o=m(null);a=l(function(){return g==null?null:d("WAWebLabelCollection").LabelCollection.get(g)},[g]);i=i?k.jsx(d("WAWebUimUie.react").UIE,{displayName:"InboxFilterContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:function(){return j(!1)},requestRecentFocusOnUnmount:!1,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:{menu:k.jsx(d("WAWebChatListFilterLabelsDropdownMenu.react").ChatListFilterLabelsDropdownMenu,{hideHeader:!0,showEmpty:!0,updateSearchFilter:e}),anchor:o.current}})}):null;e=function(){j(function(a){!a&&f!=null&&d("WAWebFilterLogging").logLabelDropdownShownEvent(f.newSessionId());return!a})};var p=a==null?null:k.jsx(d("WAWebLabels.react").Labels,{theme:"label-pill",labels:[a.id],showName:!0});a=a==null?h._("__JHASH__r4lehWrzUCl__JHASH__"):"";return k.jsxs("span",{children:[k.jsx(d("WAWebListFilterButton.react").ListFilterButton,babelHelpers["extends"]({tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_LIST_FILTER,ref:function(a){return o.current=a},label:a,selected:b,onClick:e},p&&{startIcon:p},{endIcon:k.jsx(d("WAWebChevronDownAltIcon").ChevronDownAltIcon,{}),restrictSize:!0})),i]})};g.ChatListFiltersLabelsPill=b}),98);
__d("WAWebChatListFilters.react",["fbt","WAWebABProps","WAWebChatListFiltersLabelsPill.react","WAWebChatSearchFilters","WAWebFilterLogging","WAWebInboxFiltersGatingUtils","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebLabelCollection","WAWebListFilterButton.react","WAWebMobilePlatforms","WAWebTabOrder","WAWebTopMenuRedesignGatingUtils","WAWebUISpacing","lodash","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));e=b.forwardRef;var l=b.useImperativeHandle,m=b.useRef,n=[{getLabel:function(){return h._("__JHASH__0_D2aK-X575__JHASH__")}},{filter:d("WAWebChatSearchFilters").SearchFilters.UNREAD,getLabel:function(){return h._("__JHASH__b9Qrw8pYIU5__JHASH__")}}],o={filter:d("WAWebChatSearchFilters").SearchFilters.CONTACT,getLabel:function(){return h._("__JHASH__fJ6pFLCxxQf__JHASH__")}},p={filter:d("WAWebChatSearchFilters").SearchFilters.GROUP,getLabel:function(){return h._("__JHASH__wgRjF3cnSgP__JHASH__")}},q={filter:d("WAWebChatSearchFilters").SearchFilters.FAVORITES,getLabel:function(){return h._("__JHASH__PKTfF26U6Gi__JHASH__")}},r=c("lodash").memoize(function(a,b){if(a)return b?[].concat(n,[q,p]):[].concat(n,[p]);if(b)return d("WAWebABProps").getABPropConfigValue("inbox_filters_suppress_contact_filter")?[].concat(n,[q,p]):[].concat(n,[q,o,p]);return d("WAWebABProps").getABPropConfigValue("inbox_filters_suppress_contact_filter")?[].concat(n,[p]):[].concat(n,[o,p])}),s={filterPillsContainer:{backgroundColor:"x1ky8ojb",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",flexShrink:"x2lah0s",rowGap:"x3pnbk8",columnGap:"xfex06f",minWidth:"xeuugli",minHeight:"x2lwn1j",$$css:!0},filterPillsContainerBorder:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xa93pmm",$$css:!0}};function a(a,b){var e=a.filter,f=a.filterSession,g=a.onFilterChange,h=a.onPrevControl,i=a.onNextControl,j=e.kind,n=e.label,o=m([]),p=m(null),q=m(null);a=d("WAWebMobilePlatforms").isSMB();var t=r(a,d("WAWebInboxFiltersGatingUtils").inboxFavoritesEnabled()),u=function(b,c){var a=t[c].filter;a===j&&(p.current=b);o.current[c]=b},v=function(a){a&&(a.focus(),q.current=a)};d("useWAWebListener").useListener(n!=null?d("WAWebLabelCollection").LabelCollection:null,"remove",function(a){a.id===n&&g({kind:null})});l(b,function(){return{focus:function(){v(p.current)}}});var w=function(a,b){var c=a===j,e=b===n,h=b==null;c=c&&(h||e);c=c?{kind:null}:{kind:(h=a)!=null?h:null,label:(e=b)!=null?e:null};(f==null?void 0:f.sessionId)!=null&&d("WAWebFilterLogging").logSelectFilterEvent(f.newSessionId(),c);g(c)};e={up:function(a){h==null?void 0:h(a)},down:function(a){i==null?void 0:i(a)},left:function(){var a=o.current.indexOf(q.current),b;c("WAWebL10N").isRTL()?b=a+1:b=a-1;a=o.current[b];a&&v(a)},right:function(){var a=o.current.indexOf(q.current),b;c("WAWebL10N").isRTL()?b=a-1:b=a+1;a=o.current[b];a&&v(a)}};a=t.map(function(b,c){var a=b.filter;b=b.getLabel;return k.jsx(d("WAWebListFilterButton.react").ListFilterButton,{tabOrder:d("WAWebTabOrder").TAB_ORDER.CHAT_LIST_FILTER,ref:function(a){return u(a,c)},label:b(),selected:j===a||j==null&&a==null,onClick:function(){return w(a)}},a||"all")});b=d("WAWebInboxFiltersGatingUtils").inboxCustomFiltersEnabled()?k.jsx(d("WAWebChatListFiltersLabelsPill.react").ChatListFiltersLabelsPill,{filterSession:f,isSelected:j===d("WAWebChatSearchFilters").SearchFilters.LABELS,onClick:function(a){return w(d("WAWebChatSearchFilters").SearchFilters.LABELS,a)},selectedLabelId:n},d("WAWebChatSearchFilters").SearchFilters.LABELS):null;return k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:e,xstyle:[s.filterPillsContainer,!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&s.filterPillsContainerBorder,d("WAWebUISpacing").uiPadding.top2,d("WAWebUISpacing").uiPadding.bottom7,d("WAWebUISpacing").uiPadding.horiz16],children:[a,b]})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g.ChatListFilters=b}),98);
__d("WAWebChatAction.react",["WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFormatConfiguration","WAWebKeyboardHotKeys.react","WAWebKeyboardShortcut.react","WAWebStateUtils","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebActiveSelection","useWAWebModelValues","useWAWebSearchQuery"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={button:{width:"xh8yej3",backgroundColor:"x150wa6m",$$css:!0},hover:{":hover_backgroundColor":"x1z0qo99",$$css:!0},active:{backgroundColor:"xairv4b",$$css:!0},container:{height:"xdiz9cm",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",borderTop:"x1e0juf7",$$css:!0},text:{fontSize:"x1f6kntn",$$css:!0},label:{textAlign:"x1yc453h",$$css:!0}};function a(a){var b=d("useWAWebModelValues").useModelValues(a.action,["id","name","label"]),e=a.onClick,f=a.searchQuery;a=c("useWAWebActiveSelection")(a.active,b.id);var g=a[0];a=a[1];var h=function(a){e(a,d("WAWebStateUtils").unproxy(b))},k=function(a){a.stopPropagation(),a.preventDefault()};f=d("useWAWebSearchQuery").useSearchText(f);f=d("WAWebFormatConfiguration").Search({terms:[f]});var l={enter:h,space:h};return i.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:g,onFocus:k,handlers:l,children:i.jsx(c("WAWebUnstyledButton.react"),{xstyle:[j.button,a&&j.active,!a&&j.hover,d("WAWebUISpacing").uiPadding.start30],onClick:h,children:i.jsxs(d("WAWebFlex.react").FlexRow,{ref:g,xstyle:[j.container,d("WAWebUISpacing").uiPadding.end30],align:"center",justify:"all",children:[i.jsx(c("WAWebFlexItem.react"),{xstyle:[j.label,d("WAWebUISpacing").uiPadding.end10],children:i.jsx(d("WAWebEmojiText.react").EmojiText,{multiline:!0,text:b.label,formatters:f,xstyle:j.text})}),i.jsx("div",{children:i.jsx(d("WAWebKeyboardShortcut.react").KeyboardShortcut,{action:b.name,addModifiers:!0})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g.ActionLabel=a}),98);
__d("WAWebChatMessage.react",["WATypeUtils","WAWebChatCell.react","WAWebChatLastMsg.react","WAWebChatMessageSearch","WAWebChatTimestamp.react","WAWebFrontendMsgGetters","WAWebKeyboardHotKeys.react","WAWebMsgCollection","WAWebMsgGetters","WAWebName.react","WAWebStateUtils","react","useWAWebActiveSelection","useWAWebModelValues","useWAWebMsgValues","useWAWebSearchQuery"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.msg,e=a.searchQuery,f=a.onClick,g=a.filterPreset,h=a.testid;h=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(h=d("WAWebMsgGetters")).getId,h.getIsSentByMe,h.getIsGroupMsg,h.getIsNotification,d("WAWebFrontendMsgGetters").getSenderObj,d("WAWebFrontendMsgGetters").getDir,d("WAWebFrontendMsgGetters").getRtl,h.getType,h.getLabels]);var j=h[0];h[1];h[2];h[3];h[4];h[5];h[6];h[7];h=h[8];var k=d("useWAWebModelValues").useModelValues(a.chat,["id","isUser","contact","formattedTitle","groupMetadata","isNewsletter"]),l=c("useWAWebActiveSelection")(a.active,j.toString()),m=l[0];l=l[1];e=d("useWAWebSearchQuery").useHighlightedText(e);var n=function(a){if(d("WATypeUtils").isFunction(f)){var b=d("WAWebMsgCollection").MsgCollection.assertGet(j),c=d("WAWebChatMessageSearch").getSearchContext(k,b);c.msg=b;f(a,d("WAWebStateUtils").unproxy(k),c)}},o={enter:n,space:n},p=function(a){a.stopPropagation(),a.preventDefault()},q=i.jsx(c("WAWebChatTimestamp.react"),{msg:b});b=i.jsx(c("WAWebChatLastMsg.react"),{msg:b.safe(),msgType:"FTSMessage",searchQuery:e});return i.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:o,onFocus:p,ref:m,children:i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},theme:a.theme==="chat-checkbox"?"cell-message-checkbox":"cell-message",active:l,primary:i.jsx(d("WAWebName.react").Name,{chat:k,labels:h,firstLabel:g==null?void 0:g.label,showLabel:!0,titlify:!0,ellipsify:!0}),primaryDetail:q,secondary:b,onClick:n,testid:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g.Message=a}),98);
__d("WAWebSettingsDesktopIcon",["err"],(function(a,b,c,d,e,f,g){function a(){throw c("err")("This SVG doesn't exist on web!")}g.SettingsDesktopIcon=a}),98);
__d("WAWebSettingsStepIcon.react",["WAWebAccountCircleIcon","WAWebBusinessDataSharingIcon","WAWebCatalogFilledIcon","WAWebChatsFilledIcon","WAWebDeveloperMenuDeveloperMenuIcons.react","WAWebExitIcon","WAWebMediaDownloadIcon","WAWebMessageReportIcon","WAWebSecurityLockIcon","WAWebSettingsConst","WAWebSettingsDesktopIcon","WAWebSettingsDocumentIcon","WAWebSettingsHelpIcon","WAWebSettingsKeyboardIcon","WAWebSettingsNotificationsIcon","WAWebSettingsSecurityIcon","WAWebSettingsThemeIcon","WAWebSettingsWallpaperIcon","WAWebSvgComponentBase","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.setting;switch(a){case d("WAWebSettingsConst").SettingsSteps.BusinessTools:return i.jsx(d("WAWebCatalogFilledIcon").CatalogFilledIcon,{width:28,height:28});case d("WAWebSettingsConst").SettingsSteps.DataSharing:return i.jsx(d("WAWebBusinessDataSharingIcon").BusinessDataSharingIcon,{width:24,height:24});case d("WAWebSettingsConst").SettingsSteps.Notifications:return i.jsx(d("WAWebSettingsNotificationsIcon").SettingsNotificationsIcon,{width:27,height:27});case d("WAWebSettingsConst").SettingsSteps.PrivacySettings:return i.jsx(d("WAWebSecurityLockIcon").SecurityLockIcon,{width:23,height:23});case d("WAWebSettingsConst").SettingsSteps.Security:return i.jsx(d("WAWebSettingsSecurityIcon").SettingsSecurityIcon,{width:26,height:26});case d("WAWebSettingsConst").SettingsSteps.Wallpaper:return i.jsx(d("WAWebSettingsWallpaperIcon").SettingsWallpaperIcon,{});case d("WAWebSettingsConst").SettingsSteps.MediaAutoDownload:return i.jsx(d("WAWebMediaDownloadIcon").MediaDownloadIcon,{width:25,height:25});case d("WAWebSettingsConst").SettingsSteps.RequestAccountInfoSettings:return i.jsx(d("WAWebSettingsDocumentIcon").SettingsDocumentIcon,{width:24,height:24});case d("WAWebSettingsConst").SettingsSteps.Help:return i.jsx(d("WAWebSettingsHelpIcon").SettingsHelpIcon,{width:27,height:27});case d("WAWebSettingsConst").SettingsSteps.Developer:case d("WAWebSettingsConst").SettingsSteps.DeveloperABProps:return i.jsx(d("WAWebDeveloperMenuDeveloperMenuIcons.react").DeveloperIcon,{});case d("WAWebSettingsConst").SettingsSteps.DesktopSettings:return i.jsx(d("WAWebSettingsDesktopIcon").SettingsDesktopIcon,{});case d("WAWebSettingsConst").SettingsSteps.KeyboardShortcuts:return i.jsx(d("WAWebSettingsKeyboardIcon").SettingsKeyboardIcon,{});case d("WAWebSettingsConst").SettingsSteps.Theme:return i.jsx(d("WAWebSettingsThemeIcon").SettingsThemeIcon,{});case d("WAWebSettingsConst").SettingsSteps.Logout:return i.jsx(d("WAWebExitIcon").ExitIcon,{color:d("WAWebSvgComponentBase").SvgColorProp.CRITICAL});case d("WAWebSettingsConst").SettingsSteps.NewsletterReports:return i.jsx(d("WAWebMessageReportIcon").MessageReportIcon,{width:24,height:24});case d("WAWebSettingsConst").SettingsSteps.Account:return i.jsx(d("WAWebAccountCircleIcon").AccountCircleIcon,{width:24,height:24});case d("WAWebSettingsConst").SettingsSteps.Chats:return i.jsx(d("WAWebChatsFilledIcon").ChatsFilledIcon,{width:24,height:24});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g.SettingsStepIcon=a}),98);
__d("WAWebChatSetting.react",["WANullthrows","WAWebDrawerButton.react","WAWebEmojiText.react","WAWebFormatConfiguration","WAWebSettingsConst","WAWebSettingsStepIcon.react","WAWebStateUtils","react","useWAWebModelValues","useWAWebSearchQuery"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={text:{fontSize:"x1f6kntn",$$css:!0}};function a(a){var b=a.onClick,e=a.searchQuery,f=d("useWAWebModelValues").useModelValues(a.setting,["id","label"]),g=function(a){b(a,d("WAWebStateUtils").unproxy(f))};e=d("useWAWebSearchQuery").useSearchText(e);e=d("WAWebFormatConfiguration").Search({terms:[e]});return i.jsx(d("WAWebDrawerButton.react").DrawerButton,{icon:i.jsx(d("WAWebSettingsStepIcon.react").SettingsStepIcon,{setting:c("WANullthrows")(d("WAWebSettingsConst").SettingsSteps.cast(f.id))}),id:f.id,active:a.active,onClick:g,theme:"chatlist",children:i.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.label,formatters:e,xstyle:j.text})})}a.displayName=a.name+" [from "+f.id+"]";g.Setting=a}),98);
__d("WAWebChatlist.react",["fbt","Keys","WANullthrows","WAWebChat.react","WAWebChatAction.react","WAWebChatCheckboxWrapper.react","WAWebChatCollection","WAWebChatCommunityUtils","WAWebChatContact.react","WAWebChatContactUtils","WAWebChatMessage.react","WAWebChatModel","WAWebChatSearchFilters","WAWebChatSetting.react","WAWebChatlistPanelMode","WAWebChatlistUtils","WAWebCmd","WAWebCommunityCells.react","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebContactGetters","WAWebContactModel","WAWebContentSettings","WAWebDisappearingMessageKeepInChatWamEvent","WAWebElevatedPushNamesFlag","WAWebEmojiText.react","WAWebErrorBoundary.react","WAWebFbtIntlList","WAWebFindChatAction","WAWebFlatList.react","WAWebFocusTracer","WAWebFormatConfiguration","WAWebFrontendContactGetters","WAWebFrontendMsgGetters","WAWebInboxFiltersGatingUtils","WAWebKeyboardContext","WAWebKeyboardHotKeys.react","WAWebListenerHoc","WAWebMsgGetters","WAWebMsgModel","WAWebMuteCollection","WAWebMuteGetters","WAWebSectionHeader.react","WAWebTabOrder","WAWebTimeSpentLoggingNavigation","WAWebTimerHoc.react","WAWebUim","WAWebUimUie.react","WAWebWamEnumKicActionNameType","cr:104","cr:5736","gkx","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");a=(i||(i=d("react"))).Component;var l={unreadChatsHeader:{paddingStart:"x1vobaek",paddingLeft:null,paddingRight:null,$$css:!0}},m={SEC_CHATS:"SEC_CHATS",SEC_UNREAD_CHATS:"SEC_UNREAD_CHATS",SEC_CONTACTS:"SEC_CONTACTS",SEC_COMMUNITIES:"SEC_COMMUNITIES",SEC_ACTIONS:"SEC_ACTIONS",SEC_DEBUG_COMMANDS:"SEC_DEBUG_COMMANDS",SEC_SETTINGS:"SEC_SETTINGS",SEC_COMMON_GROUPS:"SEC_COMMON_GROUPS",SEC_STARRED:"SEC_STARRED",SEC_MSG:"SEC_MSG",SEC_MUTED_CHATS:"SEC_MUTED_CHATS",SEC_KEPT:"SEC_KEPT",SEC_ASSIGNED_TO_YOU:"SEC_ASSIGNED_TO_YOU"},n={ROW_CHATS:"ROW_CHATS",ROW_CONTACTS:"ROW_CONTACTS",ROW_ACTIONS:"ROW_ACTIONS",ROW_DEBUG_COMMANDS:"ROW_DEBUG_COMMANDS",ROW_COMMUNITIES:"ROW_COMMUNITIES",ROW_SETTINGS:"ROW_SETTINGS",ROW_COMMON_GROUPS:"ROW_COMMON_GROUPS",ROW_STARRED:"ROW_STARRED",ROW_KEPT:"ROW_KEPT",ROW_MSG:"ROW_MSG"},o=d("WAWebChat.react").ChatFactory(),p=d("WAWebChatContact.react").ContactFactory(),q=d("WAWebFlatList.react").FlatListFactory();function r(a,b){b===void 0&&(b={});b=b;b=b.formatString;var e=b===void 0?"":b;b=c("WAWebFbtIntlList")(a.map(function(a){var b=d("WAWebElevatedPushNamesFlag").pushNameCanBeUsed(a);b=b?d("WAWebChatContactUtils").getFormattedNotifyName(d("WAWebContactGetters").getNotifyName(a)).toString():d("WAWebFrontendContactGetters").getFormattedName(a);return""+e+b+e}),c("WAWebFbtIntlList").CONJUNCTIONS.AND,c("WAWebFbtIntlList").DELIMITERS.COMMA);return h._("__JHASH__ARy6EH4kDAp__JHASH__",[h._plural(a.length),h._param("contacts-list",b)])}r.displayName=r.name+" [from "+f.id+"]";e=function(a){babelHelpers.inheritsLoose(f,a);f.getDerivedStateFromProps=function(a){var b=a.ftsResult.filter(function(a){return d("WAWebMsgGetters").getIsKept(a)}),e=a.ftsResult.filter(function(a){return!a.star&&!d("WAWebMsgGetters").getIsKept(a)});return babelHelpers["extends"]({ftsStarred:a.ftsResult.filter(function(a){a=a.star;return a}),ftsKept:b,ftsMessages:e},c("gkx")("26258")?null:{mutedChats:a.chats.filter(function(a){a=a.mute;return d("WAWebMuteGetters").getIsMuted(a)})})};var e=f.prototype;e.$8=function(){return this.context.isKeyboardUser};e.$9=function(a){a===void 0&&(a=!1);var b=this.props.selection.getVal();if(b==null)return;b instanceof d("WAWebChatModel").Chat&&b!==d("WAWebChatCollection").ChatCollection.getActive()?void d("WAWebCmd").Cmd.openChatFromUnread(b).then(function(c){c&&a===!0&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)}):a===!0&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)};function f(e){var f;f=a.call(this,e)||this;f.$6=d("WAWebChatCollection").ChatCollection.getActive();f.$7=0;f.$10=function(a){f.$5=a};f.setRefUIE=function(a){f.uie=a};f.setRefList=function(a){f.refList=a};f.$11=function(){f.refList&&f.$5&&c("WAWebFocusTracer").focus(f.$5)};f.$12=function(){c("gkx")("26258")||f.setState(function(a){return{mutedChatsCollapsed:!a.mutedChatsCollapsed}})};f.requestFocus=function(){if(f.props.mode===c("WAWebChatlistPanelMode").CommandPalette)return;f.props.selection.reset(!1,!1);f.props.selection.index>-1&&document.activeElement===document.body&&f.$11()};f.$13=function(a){a.stopPropagation(),a.preventDefault(),f.props.onFocusSearch()};f.$14=function(a){var b=f.props.selection.getVal();a===b&&f.props.selection.unset();f.$6=null};f.restoreFocus=function(){f.props.selection.reset(!0)};f.$15=function(a,b){var c=new(d("WAWebDisappearingMessageKeepInChatWamEvent").DisappearingMessageKeepInChatWamEvent)({kicActionName:d("WAWebWamEnumKicActionNameType").KIC_ACTION_NAME_TYPE.SEARCH_RESULTS_TAP,isAGroup:b.isGroup});if(b.isGroup){var e;c.set({isAdmin:(e=b.groupMetadata)==null?void 0:e.participants.iAmAdmin()})}c.commit();f.props.onItemClick(a,b)};f.$16=function(a,b,c,d){f.props.onItemClick(a,b)};f.$19=function(a,b,c){var d=f.props.multiSelection;d&&d.setVal(a,b,c)};f.$20=function(a,b){var e=f.props,g=e.multiSelection;e=e.selectableState;return!g||!e?k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"chat-list-item",children:a}):k.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"chat-list-item",children:k.jsx(c("WAWebChatCheckboxWrapper.react"),{model:b,theme:"chat-checkbox",selectableState:e,multiSelection:g,onSelect:f.$19,children:a})})};f.renderItem=function(a){var e=f.props,g=e.searchQuery;e=e.filterPreset;switch(a.type){case m.SEC_CHATS:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__vMT4C8lCQ0f__JHASH__")});case m.SEC_UNREAD_CHATS:return k.jsx(c("WAWebSectionHeader.react"),{xstyle:l.unreadChatsHeader,header:h._("__JHASH__whMFfnAV2y3__JHASH__")});case m.SEC_CONTACTS:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__5_mQZCD-_-D__JHASH__")});case m.SEC_ACTIONS:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__NPQ5BKj_Vcs__JHASH__")});case m.SEC_DEBUG_COMMANDS:return k.jsx(c("WAWebSectionHeader.react"),{header:"Debug Commands"});case m.SEC_COMMUNITIES:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__WNB1mqZ98A9__JHASH__")});case m.SEC_SETTINGS:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__rrTi3BmRzFC__JHASH__")});case m.SEC_COMMON_GROUPS:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__vSo4SDgy4ph__JHASH__")});case m.SEC_STARRED:return k.jsx(c("WAWebSectionHeader.react"),{testid:void 0,header:h._("__JHASH__-jY0ppnhrUk__JHASH__")});case m.SEC_KEPT:return k.jsx(c("WAWebSectionHeader.react"),{testid:void 0,header:h._("__JHASH__bdjWL528wNc__JHASH__")});case m.SEC_MSG:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__AzQhjzbsWWm__JHASH__")});case m.SEC_MUTED_CHATS:return b("cr:5736")!=null?k.jsx(b("cr:5736"),{mutedChats:f.state.mutedChats,mutedChatsCollapsed:f.state.mutedChatsCollapsed,onClick:f.$12}):null;case m.SEC_ASSIGNED_TO_YOU:return k.jsx(c("WAWebSectionHeader.react"),{header:h._("__JHASH__LHk9B6RhZ80__JHASH__")});case n.ROW_CHATS:var i=a.data,j=a.index;return f.$20(k.jsx(o,{chat:i,mode:d("WAWebChat.react").Mode.LAST,searchQuery:g,filterPreset:e,onClick:f.props.onItemClick,mouseDownAsClick:!0,selectableState:f.props.selectableState,multiSelection:f.props.multiSelection,onStartMultiSelect:f.props.onStartMultiSelect,active:f.props.selection,ephemeralIcon:"chat-list",showStatusRingAroundProfilePhoto:!0,index:j,photoSize:f.$18(),showCommunityInfo:!0}),i);case n.ROW_CONTACTS:j=a.data;return f.$20(k.jsx(p,{contact:j,active:f.props.selection,searchQuery:g,onClick:f.$16,mouseDownAsClick:!0,waitIdle:!0,showStatusRingAroundProfilePhoto:!0,photoSize:f.$18(),hideStatus:d("WAWebContactGetters").getIsMe(j),showMessageYourselfName:d("WAWebContactGetters").getIsMe(j)}),j);case n.ROW_ACTIONS:i=a.data;return f.$20(k.jsx(d("WAWebChatAction.react").ActionLabel,{action:i,active:f.props.selection,onClick:f.props.onItemClick,searchQuery:g}),i);case n.ROW_DEBUG_COMMANDS:j=a.data;if(!c("gkx")("26258")&&b("cr:104")!=null)return f.$20(k.jsx(b("cr:104"),{active:f.props.selection,debugCommand:j,onClick:f.props.onItemClick,searchQuery:g}),j);throw new(d("WAWebFlatList.react").UnknownDataError)(a);case n.ROW_COMMUNITIES:var q=a.data;return f.$20(k.jsx(d("WAWebCommunityCells.react").CommunityCell,{active:f.props.selection,parentGroupMetadata:c("WANullthrows")(q.groupMetadata),parentGroupChat:q,onClick:function(a){return f.props.onItemClick(a,q)},inCommandPalette:!0}),q);case n.ROW_SETTINGS:i=a.data;return f.$20(k.jsx(d("WAWebChatSetting.react").Setting,{active:f.props.selection,onClick:f.props.onItemClick,searchQuery:g,setting:i}),i);case n.ROW_COMMON_GROUPS:j=a.data;i=j[0];j=f.$21(j);return f.$20(k.jsx(o,{chat:i,secondary:j,mode:d("WAWebChat.react").Mode.LAST,searchQuery:g,filterPreset:e,onClick:f.props.onItemClick,mouseDownAsClick:!0,selectableState:f.props.selectableState,multiSelection:f.props.multiSelection,onStartMultiSelect:f.props.onStartMultiSelect,active:f.props.selection}),i);case n.ROW_STARRED:j=a.data;return f.$20(k.jsx(d("WAWebChatMessage.react").Message,{msg:j,chat:d("WAWebFrontendMsgGetters").getChat(j),searchQuery:g,filterPreset:e,onClick:f.props.onItemClick,active:f.props.selection,testid:void 0}),j);case n.ROW_KEPT:i=a.data;return f.$20(k.jsx(d("WAWebChatMessage.react").Message,{msg:i,chat:d("WAWebFrontendMsgGetters").getChat(i),searchQuery:g,filterPreset:e,onClick:f.$15,active:f.props.selection,testid:void 0}),i);case n.ROW_MSG:j=a.data;return f.$20(k.jsx(d("WAWebChatMessage.react").Message,{msg:j,chat:d("WAWebFrontendMsgGetters").getChat(j),searchQuery:g,filterPreset:e,onClick:f.props.onItemClick,active:f.props.selection,testid:void 0}),j);default:throw new(d("WAWebFlatList.react").UnknownDataError)(a)}};f.$25=function(a){f.$2.cancel(),f.props.selection.setVal(a,!1),f.$4=a};f.$26=function(a){if(a.target!==f.$5)return;if(!f.$3)return;if(f.props.selection.index<0)f.focusFirst();else{a=babelHelpers.assertThisInitialized(f);a=a.uie;a&&a.activate();f.props.selection.reset(!0)}};f.$27=function(){f.$3=!0};f.$28=function(){f.$3=!1};f.$3=!0;f.$4=null;f.$2=f.props.debounce(function(){f.$9(f.$1),f.$1=!1},200);f.state={textsize:c("WAWebContentSettings").get().textsize,ftsStarred:[],ftsKept:[],ftsMessages:[],mutedChats:[],collapseMutedChatsEnabled:!1,mutedChatsCollapsed:!0};c("gkx")("26258")||(f.state.collapseMutedChatsEnabled=d("WAWebMuteCollection").MuteCollection.getCollapseMuted());return f}e.componentWillUnmount=function(){d("WAWebTimeSpentLoggingNavigation").tsNavigationExit(this.$7);var a=this.props.selection;if(a.list.length>0)return;a=a.getVal();if(!(a instanceof d("WAWebChatModel").Chat))return;a.isState&&!this.props.isSearching&&d("WAWebCmd").Cmd.closeChat(a)};e.$17=function(){var a=this.state.textsize;return d("WAWebChatlistUtils").getListHeightForTextsize(a)};e.$18=function(){var a=this.state.textsize;return d("WAWebChatlistUtils").getDetailImageSizeForTextSize(a)};e.$21=function(a){a=a[1];a=a.slice(0,2);var b=r(a,{formatString:"*"});a=r(a).toString();var c=d("WAWebFormatConfiguration").Search({terms:[this.props.searchQuery.trimmed()]});return k.jsx(d("WAWebEmojiText.react").EmojiText,{text:b,formatters:c,titlify:!0,title:a,direction:"auto"})};e.getData=function(){var a=this.props,b=a.chats,c=a.contacts,e=a.actions,f=a.debugCommands,g=a.communities,h=a.settings,i=a.commonGroups,j=a.isSearching,k=a.messages;a=a.searchQuery;var l=this.state,o=l.ftsStarred,p=l.ftsMessages,q=l.ftsKept,r=l.mutedChats,s=l.mutedChatsCollapsed;l=l.collapseMutedChatsEnabled;var t=[],u=0;j&&f.length>0&&t.push({itemKey:"section-debug-commands",type:m.SEC_DEBUG_COMMANDS});t.push.apply(t,f.map(function(a){return{itemKey:"debug-command-"+a.id.toString(),data:a,type:n.ROW_DEBUG_COMMANDS,height:60}}));j&&e.length>0&&t.push({itemKey:"section-actions",type:m.SEC_ACTIONS});t.push.apply(t,e.map(function(a){return{itemKey:"action-"+a.id.toString(),data:a,type:n.ROW_ACTIONS,height:60}}));j&&h.length>0&&t.push({itemKey:"section-settings",type:m.SEC_SETTINGS});t.push.apply(t,h.map(function(a){return{itemKey:"setting-"+a.id.toString(),data:a,type:n.ROW_SETTINGS,height:60}}));j&&g.length>0&&t.push({itemKey:"section-communities",type:m.SEC_COMMUNITIES});t.push.apply(t,g.map(function(a){return{itemKey:"community-"+a.id.toString(),data:a,type:n.ROW_COMMUNITIES,height:72}}));a.filter.kind===d("WAWebChatSearchFilters").SearchFilters.LABELS&&d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()||(j&&b.length>0?t.push({itemKey:"section-chats",type:m.SEC_CHATS}):!j&&a.filter.kind===d("WAWebChatSearchFilters").SearchFilters.UNREAD&&!d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()?t.push({itemKey:"section-chats",type:m.SEC_UNREAD_CHATS}):!j&&a.filter.kind===d("WAWebChatSearchFilters").SearchFilters.ASSIGNED_TO_YOU&&t.push({itemKey:"section-chats",type:m.SEC_ASSIGNED_TO_YOU}));if(!j&&l)r.length>0&&t.push({itemKey:"section-collapse-muted",contentKey:String(s)+"-"+r.length,type:m.SEC_MUTED_CHATS,height:30}),s||t.push.apply(t,r.map(function(a){return{itemKey:"chat-"+a.id.toString(),data:a,expanded:!s,type:n.ROW_CHATS}})),t.push.apply(t,b.filter(function(a){return!d("WAWebMuteGetters").getIsMuted(a.mute)}).map(function(a){return{itemKey:"chat-"+a.id.toString(),data:a,type:n.ROW_CHATS,index:u++,height:d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)?d("WAWebChatCommunityUtils").SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}}));else{f=[].concat(b);t.push.apply(t,f.map(function(a){return{itemKey:"chat-"+a.id.toString(),data:a,type:n.ROW_CHATS,index:u++,height:d("WAWebCommunityGatingUtils").shouldShowNewSubgroupIdentity(a.groupMetadata)?d("WAWebChatCommunityUtils").SUBGROUP_V2_CHAT_CELL_HEIGHT:void 0}}))}j&&c.length>0&&t.push({itemKey:"section-contacts",type:m.SEC_CONTACTS});t.push.apply(t,c.map(function(a){return{itemKey:"contact-"+a.id.toString(),data:a,type:n.ROW_CONTACTS}}));j&&i.length>0&&t.push({itemKey:"section-common-groups",type:m.SEC_COMMON_GROUPS});t.push.apply(t,i.map(function(a){return{itemKey:"common-group-"+a[0].id.toString()+"-"+a[1].map(function(a){return a.id.toString()}).join("-"),data:a,type:n.ROW_COMMON_GROUPS}}));j&&o.length>0&&t.push({itemKey:"section-starred",type:m.SEC_STARRED});t.push.apply(t,o.map(function(a){return{itemKey:"starred-"+a.id.toString(),data:a,type:n.ROW_STARRED}}));j&&q.length>0&&t.push({itemKey:"section-kept",type:m.SEC_KEPT});t.push.apply(t,q.map(function(a){return{itemKey:"kept-"+a.id.toString(),data:a,type:n.ROW_KEPT}}));j&&p.length>0&&t.push({itemKey:"section-msg",type:m.SEC_MSG});t.push.apply(t,p.map(function(a){return{itemKey:"msg-"+a.id.toString(),data:a,type:n.ROW_MSG}}));j&&k.length>0&&t.push({itemKey:"section-msg",type:m.SEC_MSG});t.push.apply(t,k.map(function(a){return{itemKey:"msg-"+a.id.toString(),data:a,type:n.ROW_MSG}}));return t};e.$22=function(a){a===void 0&&(a=100),this.refList&&this.refList.scrollIntoViewIfNeeded(this.props.selection.index,a)};e.componentDidMount=function(){var a=this,b;this.$7=d("WAWebTimeSpentLoggingNavigation").tsNavigationEnter({surface:"chat-list"});this.props.selection.init(this.getSelection());this.props.listeners.add((b=d("WAWebCmd")).Cmd,"focus_next_chat",function(b){a.$23(null,!0,b)});this.props.listeners.add(b.Cmd,"focus_prev_chat",function(b){a.$24(null,!0,b)});this.props.listeners.add(b.Cmd,"update_chatlist_selection",this.$25);this.props.listeners.add(b.Cmd,"close_chat",this.$14);this.props.listeners.add(b.Cmd,"open_chat",function(b){a.$6=b});this.props.listeners.add(b.Cmd,"archive_chat",function(b){b===a.$6&&(a.$6=null)});this.props.listeners.add(b.Cmd,"textsize_change",function(b){a.setState({textsize:b})});c("gkx")("26258")||(this.props.listeners.add(d("WAWebChatCollection").ChatCollection,"change:muteExpiration",function(){a.setState({mutedChats:a.props.chats.filter(function(a){return d("WAWebMuteGetters").getIsMuted(a.mute)})})}),this.props.listeners.add(d("WAWebMuteCollection").MuteCollection,"change:collapseMuted",function(b){a.setState({collapseMutedChatsEnabled:b})}));c("gkx")("26255")&&this.props.listeners.add(window,"keydown",function(b){var e=!1;process.platform==="darwin"?e=b.metaKey&&!b.ctrlKey&&!b.altKey:process.platform==="win32"&&(e=b.ctrlKey&&!b.altKey&&!b.metaKey);if(e&&(b.keyCode>=c("Keys").ONE&&b.keyCode<=c("Keys").NINE||b.keyCode>=c("Keys").NUMPAD_1&&b.keyCode<=c("Keys").NUMPAD_9)){e=Number.parseInt(String.fromCharCode(b.keyCode-1),10);var f=a.getSelection()[e];if(!f)return;if(f!==d("WAWebChatCollection").ChatCollection.getActive()){if(f instanceof d("WAWebChatModel").Chat)d("WAWebCmd").Cmd.openChatFromUnread(f).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(f)});else if(f instanceof c("WAWebContactModel"))d("WAWebFindChatAction").findChat(f.id,"chatlist").then(function(a){return d("WAWebCmd").Cmd.openChatFromUnread(a)}).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(f)});else if(f instanceof d("WAWebMsgModel").Msg)return}else d("WAWebComposeBoxActions").ComposeBoxActions.focus(f)}});this.props.listeners.add(d("WAWebChatCollection").ChatCollection,"change:isParentGroup",function(){return a.forceUpdate()})};e.componentDidUpdate=function(a,b){b=a.selection.getVal();var d=this.$6,e=!a.isSearching&&!this.props.isSearching&&!this.props.isSearchInputFocused&&!this.props.searchQuery.hasFilter()&&!(d==null?void 0:d.archive),f=this.props.selection,g=f.list.map(function(a){return a.id.toString()}).join("-"),h=this.getSelection(),i=h.map(function(a){return a.id.toString()}).join("-");f.init(h,e);d&&f.list.includes(d)&&f.getVal()!==d&&!this.$8()&&this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&!this.props.isSearching&&!this.props.isSearchInputFocused&&f.setVal(d);this.props.mode===c("WAWebChatlistPanelMode").CommandPalette&&g!==i&&f.setFirst(!1);h=this.props.selection.getVal();a.isSearching&&!this.props.isSearching&&!this.props.isSearchInputFocused&&(!h&&this.$4&&this.props.selection.setVal(this.$4));h&&h!==b&&h!==d&&this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&(this.$1=!this.$8(),this.$2())};e.getSelection=function(){return[].concat(this.props.debugCommands,this.props.actions,this.props.settings,this.props.communities,this.props.chats,this.props.contacts,this.props.commonGroups.map(function(a){return a[0]}),this.state.ftsStarred,this.state.ftsMessages,this.props.messages)};e.$24=function(a,b,e){a&&a.preventDefault();a=this.props.selection.prev();a>-1?(this.props.selection.setPrev(!0),this.$1=e,this.$22(),this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&this.$2()):b||(this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&this.$9(),this.$2.cancel(),d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()?this.props.onFocusFilters():this.props.onFocusSearch())};e.$23=function(a,b,d){a&&a.preventDefault();b=this.props.selection.next();this.props.selection.index!==b&&(this.props.selection.setNext(!0),this.$1=d,this.$22(),this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&this.$2())};e.focusFirst=function(){var a=this.uie;a&&a.activate();this.props.selection.setFirst();this.$22(0);this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&this.$2();this.props.mode===c("WAWebChatlistPanelMode").CommandPalette&&this.$23(void 0)};e.render=function(){var a=this,b=this.props,c=b.isSearching;b=b.chats;var e={down:function(b){return a.$23(b,!1)},j:function(b){return a.$23(b,!1)},up:function(b){return a.$24(b,!1)},k:function(b){return a.$24(b,!1)},"/":function(b){return a.$13(b)}};c?c=h._("__JHASH__yBA2c5aUAFV__JHASH__"):c=h._("__JHASH__f618aBB7P0e__JHASH__");return k.jsx(d("WAWebUimUie.react").UIE,{displayName:"Chatlist",ref:this.setRefUIE,uimState:d("WAWebUim").UIMState.PASSIVE,requestFocus:this.requestFocus,children:k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:e,onFocus:this.$26,ref:this.$10,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_LIST,children:k.jsx(q,{"aria-label":c,testid:void 0,data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical",defaultItemHeight:this.$17(),onPointerEventsOff:this.$28,onPointerEventsOn:this.$27,ref:this.setRefList,role:"grid","aria-rowcount":(e=b==null?void 0:b.length)!=null?e:0})})})};return f}(a);e.contextType=c("WAWebKeyboardContext");e.defaultProps={chats:[],commonGroups:[]};f=d("WAWebListenerHoc").ListenerHOC(c("WAWebTimerHoc.react")(e));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.focusFirst=function(){return this.getComponent().focusFirst()};return b}(f);g["default"]=a}),98);
__d("WAWebChatlistBanners.react",["WAWebChatButterbar.react","WAWebChatlistPanelNuxBanners.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(){var a=k(!0),b=a[0];a=a[1];return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebChatButterbar.react"),{setShowButterBar:a}),!b&&j.jsx(c("WAWebChatlistPanelNuxBanners.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatlistPanel.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatListPanel:"_ak9p",panelBody:"_ak9y",commandPalette:"_ak9z",commandPaletteContainer:"_ak9q",overflow:"_ak9r",noOverflow:"_ak9s",panelSearch:"_ak9t",spinner:"_ak9o",unreadContainer:"_ak9x",unread:"_ak9u",unreadBody:"_ak9v",unreadIcon:"_ak9w"};b=a;g["default"]=b}),98);
__d("WAWebCommandModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.name=d("WAWebBaseModel").prop(),c.label=d("WAWebBaseModel").prop(),c.type=d("WAWebBaseModel").prop(),b)||babelHelpers.assertThisInitialized(c)}return b}(d("WAWebBaseModel").BaseModel);a.Proxy="command";b=d("WAWebBaseModel").defineModel(a);g["default"]=b}),98);
__d("WAWebSettings",["fbt","$InternalEnum","WAWebBizGatingUtils","WAWebMiscGatingUtils","err","gkx"],(function(a,b,c,d,e,f,g,h){var i=b("$InternalEnum").Mirrored(["Settings","BusinessTools","Wallpaper","RequestAccountInfoSettings","Blocked","Profile","Notifications","TwoFactorAuthentication","TwoFactorUpdateEmail","TwoFactorUpdatePin","TwoFactorRegistration","TwoFactorDisable","MediaAutoDownload","Security","PrivacyVisiblityEdit","PrivacySettings","DefaultEphemerality","UserEphemerality","DesktopSettings","Help","Developer","DeveloperABProps","ScreenLock","DataSharing"]);function a(a){switch(a){case i.BusinessTools:return d("WAWebBizGatingUtils").isBizToolsDrawerEnabled();case i.DataSharing:return d("WAWebBizGatingUtils").smbDataSharingConsentEnabled()===!0;case i.PrivacySettings:return!0;case i.Security:return!0;case i.TwoFactorAuthentication:return d("WAWebMiscGatingUtils").web2FAEnabled();case i.Wallpaper:return!0;case i.MediaAutoDownload:return!0;case i.RequestAccountInfoSettings:return!0;case i.DesktopSettings:return c("gkx")("26254")?!1:c("gkx")("26255")&&!process.mas&&!process.windowsStore;case i.Help:return!0;case i.Developer:case i.DeveloperABProps:return!c("gkx")("26258");case i.Notifications:return!0;default:return!1}}function e(a){switch(a){case i.DataSharing:return h._("__JHASH__IzT52c8fd_f__JHASH__");case i.BusinessTools:return h._("__JHASH__i-VUkoAL1A2__JHASH__");case i.Wallpaper:return h._("__JHASH__q3IK9jSEini__JHASH__");case i.RequestAccountInfoSettings:return h._("__JHASH__V1XRuX8SnPi__JHASH__");case i.Notifications:return h._("__JHASH___mei3TzRpwR__JHASH__");case i.TwoFactorAuthentication:return h._("__JHASH__ZLmoACx_Lu8__JHASH__");case i.MediaAutoDownload:return h._("__JHASH__c8rZa1TuHR-__JHASH__");case i.Security:return h._("__JHASH__uF5XX18I7iw__JHASH__");case i.PrivacySettings:return h._("__JHASH__lAaWKvEntWc__JHASH__");case i.DesktopSettings:return h._("__JHASH__mAMEJijlc9T__JHASH__");case i.Help:return h._("__JHASH__4qBAruixDWb__JHASH__");case i.Developer:return"Developer";case i.DeveloperABProps:return"AB Props";default:throw c("err")("Unsupported setting.")}}g.SettingsSteps=i;g.isSettingAvailable=a;g.getLabel=e}),98);
__d("WAWebCommandCollection",["WAWebActions","WAWebBaseCollection","WAWebCommandModel","WAWebL10N","WAWebSettings"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.initializeCommands();return b}var e=b.prototype;e.initializeCommands=function(){this.addCommandsFromActions(),this.addCommandsFromSettings()};e.query=function(a){var b=c("WAWebL10N").accentFold(a.query.toLowerCase());return this.filter(function(d){var e=c("WAWebL10N").accentFold(d.label.toLowerCase());e=e.includes(b);d=a.type===d.type;return e&&d})};e.addCommandsFromActions=function(){for(var a=d("WAWebActions").Action.members(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;this.add({name:e,id:e,label:d("WAWebActions").getLabel(e).toString(),type:"action"})}};e.addCommandsFromSettings=function(){for(var a=Array.from(d("WAWebSettings").SettingsSteps.members()).filter(function(a){return d("WAWebSettings").isSettingAvailable(a)}),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;this.add({name:e,id:e,label:d("WAWebSettings").getLabel(e).toString(),type:"setting"})}};return b}(d("WAWebBaseCollection").BaseCollection);a.model=c("WAWebCommandModel");b=new a();g.CommandCollectionImpl=a;g.CommandCollection=b}),98);
__d("WAWebConsumerMultiSelectBarOverflowmenu.react",["fbt","WAWebChatModel","WAWebCmd","WAWebDropdown.react","WAWebDropdownItem.react","WAWebUpdateUnreadChatAction","WAWebWamChatActionEventsLogger","WAWebWamEnumChatActionEntryPoint","WAWebWamEnumChatActionType","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");b=(i||(i=d("react"))).forwardRef;function a(a,b){var c=a.selectedModels,e=a.onComplete,f=a.unreadChatCount;a=a.unmutedChatCount;c=c.getSelected();var g=c.reduce(function(a,b){b instanceof d("WAWebChatModel").Chat&&a.push(b);return a},[]),i=function(a){g.forEach(function(b){d("WAWebUpdateUnreadChatAction").markUnread(b,a,!1)}),d("WAWebWamChatActionEventsLogger").logChatActionEvent({chatActionEntryPoint:d("WAWebWamEnumChatActionEntryPoint").CHAT_ACTION_ENTRY_POINT.CONVERSATION_LIST_BULK_EDIT,chatActionType:a?d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE.UNREAD:d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE.READ}),e()},j=f!==0;c=j?h._("__JHASH__CpF20omw_HV__JHASH__",[h._plural(g.length)]):h._("__JHASH__aQOAGd8l9lF__JHASH__",[h._plural(g.length)]);f=k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){i(!j)},testid:void 0,children:c});var l=a!==0,m=function(a){var b=function(){d("WAWebWamChatActionEventsLogger").logChatActionEvent({chatActionEntryPoint:d("WAWebWamEnumChatActionEntryPoint").CHAT_ACTION_ENTRY_POINT.CONVERSATION_LIST_BULK_EDIT,chatActionType:a?d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE.MUTE:d("WAWebWamEnumChatActionType").CHAT_ACTION_TYPE.UNMUTE}),e()};d("WAWebCmd").Cmd.muteChatMultiselect(g,a,b)};c=l?h._("__JHASH__njEBSOqB1K___JHASH__"):h._("__JHASH__B8vIAy7-XHg__JHASH__");a=k.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:function(){m(l)},testid:void 0,children:c});return k.jsxs(d("WAWebDropdown.react").Dropdown,{ref:b,type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT,dirY:d("WAWebDropdown.react").DirY.BOTTOM,testid:void 0,children:[f,a]},"MultiSelectOverflowMenu")}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("useWAWebEventCounterValue",["react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i=(h||d("react")).useState;function a(a,b,c){c===void 0&&(c=0);var e;a==null?e=[]:Array.isArray(a)?e=a:e=[a];a=i(c);c=a[0];var f=a[1];d("useWAWebListener").useListeners(e.map(function(a){return{source:a,eventOrEvents:b,callback:function(a){a===void 0&&(a=1),f(function(b){return b+a})}}}));return c}g["default"]=a}),98);
__d("WAWebConsumerMultiSelectBar.react",["fbt","WAWebCallMenuIcon","WAWebConsumerMultiSelectBarOverflowmenu.react","WAWebMenuBar.react","WAWebTabOrder","WAWebVelocityTransitionGroup","WAWebXIcon","react","useWAWebEventCounterValue","useWAWebForceUpdate","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");b=(i||(i=d("react"))).forwardRef;function a(a,b){var e=a.selectedModels;a=a.onCancel;var f=c("useWAWebForceUpdate")(),g=e.getSelected();g=g.length;var i=c("useWAWebEventCounterValue")(e,"unread_chat"),j=c("useWAWebEventCounterValue")(e,"unmuted_chat");d("useWAWebListener").useListener(e,"all",f);return k.jsxs("div",{ref:b,className:"x17qophe x1yg4o9v x9f619 x78zum5 x6s0dn4 xh8yej3 xy063j7 x1n2onr6 xgxk9ee x1yrsyyn x1pi30zi x10b6aqq x1swvt13 x1pl83jw x1a02fzp xx95snz x18my8te xop05og","data-testid":void 0,children:[k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebXIcon").XIcon,{}),title:h._("__JHASH__5joM3Sa3ZTj__JHASH__"),onClick:a}),k.jsx("div",{className:"x1iyjqo2 xs83m0k xdl72j9 xmo9yow x17adc0v x6ikm8r x10wlt62 xlahmqy xlyipyv xuxw1ft","data-testid":void 0,children:h._("__JHASH__ODVgV6os7tq__JHASH__",[h._plural(g,"number_of_selected_items")])}),g>0&&k.jsx(d("WAWebMenuBar.react").MenuBar,{children:k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"dropdown",children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,tabOrder:d("WAWebTabOrder").TAB_ORDER.CHATLIST_HEADER,icon:k.jsx(d("WAWebCallMenuIcon").CallMenuIcon,{directional:!0}),title:h._("__JHASH__zTGQVo56V3t__JHASH__"),children:k.jsx(c("WAWebConsumerMultiSelectBarOverflowmenu.react"),{selectedModels:e,onComplete:a,unreadChatCount:i,unmutedChatCount:j})})})},"multi-select-bar-header")]})}a.displayName=a.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),98);
__d("WAWebFilterSession",[],(function(a,b,c,d,e,f){a=function(){function a(){this.initSessionId()}var b=a.prototype;b.initSessionId=function(){this.sessionId=this.newSessionId()};b.newSessionId=function(){this.sessionId=Math.floor(2147483648*Math.random());return this.sessionId};return a}();f["default"]=a}),66);
__d("WAWebFtsMsgsCollection",["WAAbortError","WAPromiseRaceAbort","WAWebBaseCollection","WAWebChatCollection","WAWebChatMessageSearch","WAWebFrontendMsgGetters","WAWebMsgCollection","WAWebMsgModel","WAWebUiActionWamEvent","WAWebWamEnumUiActionType","WAWebWamPrivateStatsUtils"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.hasMoreMsgs=!0;c.resultPage=0;c.searchPromise=null;c.searchAbortController=null;c.searchTerm=null;c.searchLabel=null;c.updateFtsAfterMsgLabelUpdate=function(){if(!c.currentLabelSearch)return;var a=c.filter(function(a){return!a.labels||!a.labels.includes(c.currentLabelSearch)});c.remove(a,{silent:!0})};b=b?b.msgs:d("WAWebMsgCollection").MsgCollection;c.listenTo(b,"remove_msgs",function(a){a=c.remove(a,{silent:!0}).filter(function(a){return!!a});a.length&&c.trigger("bulk_remove")});c.listenTo(d("WAWebChatCollection").ChatCollection,"remove",function(a){var b=[];c.forEach(function(c){c.id.remote.equals(a.id)&&b.push(c)});var d=c.remove(b,{silent:!0}).filter(function(a){return!!a});d.length&&c.trigger("bulk_remove")});return c}var e=b.prototype;e["delete"]=function(b){b&&this.stopListening(),a.prototype["delete"].call(this)};e.resetSearch=function(){var a;this.hasMoreMsgs=!0;this.resultPage=0;this.searchTerm=null;(a=this.searchAbortController)==null?void 0:a.abort()};e.search=function(a){var b=this,e=a.chat,f=a.count,g=a.filter,h=g===void 0?{}:g;g=a.searchTerm;var i=g+"__"+(h.label||h.kind&&h.kind||"");this.currentLabelSearch=h.label;a=!1;this.searchTerm!==i?(!(this.searchTerm&&g.indexOf(this.searchTerm)===0)?(this.searchTerm=i,this["delete"]()):a=!0,this.resultPage=0,this.hasMoreMsgs=!0):a=!0;var j=new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.FIRST_FTS_RESULT,uiActionPreloaded:a});if(this.searchPromise){if(this.searchTerm===i)return this.searchPromise;(a=this.searchAbortController)==null?void 0:a.abort()}this.searchAbortController=new AbortController();a=this.searchAbortController.signal;e?e=d("WAWebChatMessageSearch").fts(e,g,++this.resultPage,f):e=d("WAWebMsgCollection").MsgCollection.search(g,++this.resultPage,f,void 0,h);this.searchPromise=c("WAPromiseRaceAbort")(e,a).then(function(a){a.eof&&(b.hasMoreMsgs=!1);b.searchTerm!==i&&b["delete"]();b.searchTerm=i;a.messages&&((h.kind||h.label!=null)&&(a.messages=a.messages.filter(function(a){return d("WAWebFrontendMsgGetters").getChat(a)&&d("WAWebChatMessageSearch").matchFilter(d("WAWebFrontendMsgGetters").getChat(a),h)})),b.add(a.messages.filter(function(a){return!d("WAWebFrontendMsgGetters").getAsRevoked(a)})));j.markUiActionT();j.commit();d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();return a})["catch"](d("WAAbortError").catchAbort(function(){return void 0}))["finally"](function(){b.searchPromise=null,b.searchAbortController=null,b.trigger("searchPromise_update")});this.trigger("searchPromise_update");return this.searchPromise};return b}(d("WAWebBaseCollection").BaseCollection);a.model=d("WAWebMsgModel").Msg;g["default"]=a}),98);
__d("WAWebMixedMultiSelectBar.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={multiControls:"_akan",chatListPanel:"_akap",drawerHeader:"_akao",multiselectIcon:"_akar",multiCount:"_akaq",mediaGalleryTheme:"_ajzh"};b=a;g["default"]=b}),98);
__d("WAWebMixedMultiSelectBar.react",["fbt","WAWebBizChatAssignmentModal.react","WAWebChatAssignmentLogEvents.flow","WAWebChatAssignmentWithContainerIcon","WAWebChatModel","WAWebClassnames","WAWebCommonCTWADataSharing","WAWebDeleteIcon","WAWebLabelDeleteIcon","WAWebLabelFilledIcon","WAWebManageLabelFlowLoadable","WAWebMixedMultiSelectBar.scss","WAWebModalManager","WAWebMultiSelectEntryPointConstants","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSmbDataSharingOptInModalDialog","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebXIcon","react","useWAWebForceUpdate","useWAWebListener","useWAWebStableCallback"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react"));e=b.forwardRef;var l=b.useEffect;function a(a,b){var e=a.labelEditEnabled;e=e===void 0?!1:e;var f=a.multiSelectEntryPoint,g=a.onRemoveLabel,i=a.selectedModels,j=a.onCancel,n=a.onDelete;f=f===d("WAWebMultiSelectEntryPointConstants").MultiSelectEntryPoint.ChatAssignment;var o=c("useWAWebForceUpdate")(),p=i.getSelected(),q=p.length,r=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebManageLabelFlowLoadable").ManageLabelFlowLoadable,{onLabelUpdateComplete:j,modelsToUpdate:p,onClose:function(){return d("WAWebModalManager").ModalManager.close()}}))},s=function(){var a=p.reduce(function(a,b){b instanceof d("WAWebChatModel").Chat&&a.push(b);return a},[]);c("WAWebSmbDataSharingOptInModalDialog").maybeShowLabelDataSharingDialog(a,c("WAWebCommonCTWADataSharing").SmbDataSharingLabelTargetValues.CHAT,r,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.LABEL_CHAT)},t=c("useWAWebStableCallback")(j);l(function(){q===0&&t()},[q,t]);d("useWAWebListener").useListener(i,"all",o);i=p.length;var u,v,w,x;if(f&&i>0){o=function(){var a=p;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_FETCH_ASSIGN_CHAT_AGENT_LIST,{annotations:{string:{CHAT_ASSIGNMENT_ENTRY_POINT:"MULTI_SELECT"}}});d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebBizChatAssignmentModal.react"),{chats:a,onSave:j,entryPoint:d("WAWebChatAssignmentLogEvents.flow").ChatAssignmentEntryPointType.MULTI_SELECT}))};u=k.jsx(m,{Icon:d("WAWebChatAssignmentWithContainerIcon").ChatAssignmentWithContainerIcon,disabled:!i,title:h._("__JHASH__TCrTiRUADpu__JHASH__"),onClick:o})}e&&i>0&&(v=k.jsx(m,{Icon:d("WAWebLabelFilledIcon").LabelFilledIcon,disabled:!i,title:h._("__JHASH__q1oOP0vVsp5__JHASH__"),onClick:s}));g&&i>0&&(x=k.jsx(m,{Icon:d("WAWebLabelDeleteIcon").LabelDeleteIcon,disabled:!i,title:h._("__JHASH__oRZ_RBWAn0H__JHASH__"),onClick:g}));n&&i>0&&(w=k.jsx(m,{Icon:d("WAWebDeleteIcon").DeleteIcon,disabled:!i,title:h._("__JHASH__KSMhMYaUXCA__JHASH__"),onClick:n}));o=d("WAWebClassnames").classnamesConvertMeToStylexPlease((f={},f[c("WAWebMixedMultiSelectBar.scss").drawerHeader]=a.theme==="drawer-header",f[c("WAWebMixedMultiSelectBar.scss").chatListPanel]=a.theme==="chatlist-panel",f[c("WAWebMixedMultiSelectBar.scss").multiControls]=!0,f));return k.jsxs("div",{className:o,ref:b,children:[k.jsx(m,{Icon:d("WAWebXIcon").XIcon,onClick:a.onCancel}),k.jsx("div",{className:c("WAWebMixedMultiSelectBar.scss").multiCount,children:h._("__JHASH__dakBFG-pR5c__JHASH__",[h._plural(i,"count")])}),u,v,w,x]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=a.Icon;a.customIcon;var d=a.directional,e=a.disabled,f=a.onClick;a=a.title;return k.jsx("button",{className:c("WAWebMixedMultiSelectBar.scss").multiselectIcon,title:a,onClick:f,disabled:e===!0?"disabled":void 0,children:k.jsx(b,{directional:d})})}m.displayName=m.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("WAWebUnmountSignalHoc.react",["WAWebGetComponentDisplayName","WAWebHocComponent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b,e,f;return e=b=function(b){babelHelpers.inheritsLoose(c,b);function c(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c._isUnmounted=!1,c._controller=null,c.getUnmountSignal=function(){if(c._controller)return c._controller.signal;c._controller=new AbortController();c._isUnmounted&&c._controller.abort();return c._controller.signal},a)||babelHelpers.assertThisInitialized(c)}var e=c.prototype;e.componentWillUnmount=function(){var a;this._isUnmounted=!0;(a=this._controller)==null?void 0:a.abort()};e._getComponent=function(){return d("WAWebHocComponent.react")._getComponent.call(this)};e.render=function(){return i.jsx(a,babelHelpers["extends"]({ref:this.setComponent,getUnmountSignal:this.getUnmountSignal},this.props))};return c}(d("WAWebHocComponent.react").WrappedComponent),b.defaultProps=(f=a.defaultProps)!=null?f:void 0,b.displayName="UnmountSignal("+c("WAWebGetComponentDisplayName")(a)+")",b.wrappedComponent=null,e}g["default"]=a}),98);
__d("WAWebChatlistPanel.react",["fbt","Promise","WAAbortError","WAFtsIsSearchQueryEligibleForMessageSearch","WALogger","WANullthrows","WAPromiseRaceAbort","WAShiftTimer","WAWebABProps","WAWebBizGatingUtils","WAWebBizLabelItemParentType","WAWebChatArchivedEntryPoint.react","WAWebChatAssignmentCollection","WAWebChatAssignmentUtils","WAWebChatCollection","WAWebChatListFilters.react","WAWebChatListSearch.react","WAWebChatLockGatingUtils","WAWebChatLockUtils","WAWebChatLockedEntryPoint.react","WAWebChatMessageSearch","WAWebChatModel","WAWebChatSearchFilters","WAWebChatSearchQuery","WAWebChatlist.react","WAWebChatlistBanners.react","WAWebChatlistPanel.scss","WAWebChatlistPanelMode","WAWebChatlistUtils","WAWebChevronRightTextIcon","WAWebClassnames","WAWebClientFeatureFlags","WAWebCmd","WAWebCommandCollection","WAWebCommandModel","WAWebCommunityGroupJourneyEventImpl","WAWebComposeBoxActions","WAWebConnModel","WAWebConstantsDeprecated","WAWebConsumerMultiSelectBar.react","WAWebContactCollection","WAWebContactGetters","WAWebContactModel","WAWebContentSettings","WAWebDesktopUpsellChatlistToastbar.react","WAWebDesktopUpsellSearchToastbar.react","WAWebDrawerManager","WAWebEmptyState.react","WAWebErrorBoundary.react","WAWebFilterLogging","WAWebFilterSession","WAWebFindCommonGroupsContactAction","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFocusIndicator","WAWebFocusTracer","WAWebFrontendConstants","WAWebFrontendMsgGetters","WAWebFtsConstants","WAWebFtsMsgsCollection","WAWebGroupType","WAWebHistorySyncComponents.react","WAWebInboxFiltersGatingUtils","WAWebKeyboardHotKeys.react","WAWebKeyboardRun","WAWebL10N","WAWebLabelCollection","WAWebListenerHoc","WAWebMaybeStrictMode","WAWebMessageYourselfMetricUtils","WAWebMiscGatingUtils","WAWebMixedMultiSelectBar.react","WAWebModalManager","WAWebMsgCollection","WAWebMsgModel","WAWebMultiSelectEntryPointConstants","WAWebMultiSelection","WAWebOfflineHandler","WAWebOfflineResumeProgressToastbar.react","WAWebOfflineResumeTypes.flow","WAWebParticipantListUtils","WAWebPhoneNumberSearch","WAWebPrivacyNarrativeE2EMessage.react","WAWebPttOocPlayer","WAWebSelectableState","WAWebServerPropsModel","WAWebSettingsConst","WAWebSettingsFlowLoadable","WAWebSingleSelection","WAWebSpinner.react","WAWebTimerHoc.react","WAWebTopMenuRedesignGatingUtils","WAWebUimUie.react","WAWebUnmountSignalHoc.react","WAWebVelocityAnimate","WAWebVelocityTransitionGroup","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumSurfaceType","WAWebWid","asyncToGeneratorRuntime","cr:5923","cr:5932","cr:5959","err","gkx","lodash","react","useWAWebChatLockRestriction"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["get from participants table failed"]);l=function(){return a};return a}a=k||d("react");var m=j||(j=c("react"));e=a.Component;var n=a.createRef,o=b("cr:5959")==null?void 0:b("cr:5959").executeDebugCommand,p={THROTTLE:450},q=.8,r=50,s=75;f={unreadIcon:{marginEnd:"x1w0mnb",marginLeft:null,marginRight:null,verticalAlign:"x19693qn",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(e,a);function e(e){var f;f=a.call(this,e)||this;f.$1=null;f.flatListController=new(c("WAWebFlatListController"))();f.$3={};f.setRefSearch=function(a){f.refSearch=a};f.$18=n();f.$20=function(a){f.$19=a};f.$21=n();f.$22=new(c("WAWebFilterSession"))();f.$23=n();f.$24=0;f.$27=!1;f.hideLockedChats=!0;f.$33=new(d("WAShiftTimer").ShiftTimer)(function(){f.setState(f.$3),f.$3={}});f.debounceSetState=function(a,b,c){Object.assign(f.$3,a),b===void 0?f.$33.onOrBeforeRepaint():c===void 0?f.$33.debounce(b):f.$33.debounceAndCap(b,c)};f.$36=function(){f.selectableState=new(c("WAWebSelectableState"))(f.props.selectable||!1),f.props.listeners.add(f.$2,"all",f.$45),f.setState({chatlistKeyId:1})};f.$42=function(a){if(a.active)return;var b=f.$25!=null&&c("WAWebWid").equals(f.$25.id,a.id);a.isDirty()?b||(f.$25=a):b&&f.$29()};f.$43=function(a){f.$25&&c("WAWebWid").equals(f.$25.id,a.id)&&f.$29()};f.$45=function(){var a=f.state.showMultiSelectBar,b=f.$2&&f.$2.getSelected().length>0&&!f.props.hideMultiSelectBar;a===!1&&b&&f.setState({showMultiSelectBar:!0})};f.$46=function(a){a!==f.state.multiSelectEntryPoint&&f.setState({multiSelectEntryPoint:a})};f.$41=function(){var a=f.$1;if(a){var b=a.scrollTop;a.scrollTop!==0&&(b<a.clientHeight?c("WAWebVelocityAnimate")(a,"scroll",{duration:300,container:a,offset:-(a.scrollTop+a.getBoundingClientRect().top)}):a.scrollTop=0)}};f.getFilteredContacts=function(a){a=(a=a)!=null?a:{};var b=a.searchText,e=a.filter,g=e===void 0?{}:e;e=a.includeChats;var h=e===void 0?!1:e;e=a.includeNonContacts;a=e===void 0?!1:e;if(g.kind===d("WAWebChatSearchFilters").SearchFilters.CONTACT||g.kind===d("WAWebChatSearchFilters").SearchFilters.NON_CONTACT||g.kind===d("WAWebChatSearchFilters").SearchFilters.UNREAD)return[];var i=(b||"").trim();if(!i&&f.$49(g))return[];i=c("WAWebL10N").accentFold(i);var j=d("WAWebPhoneNumberSearch").numberSearch(i);e=d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!i,showWithoutName:a});return e.filter(function(a){if(!a.searchMatch(i,j,g.label))return!1;if(!h){a=d("WAWebChatCollection").ChatCollection.get(a.id);if(a==null?void 0:a.shouldAppearInList)return!1}return!0})};f.getFilteredCommunities=function(a){var b=(a||"").trim().toLowerCase();if(!b||f.props.mode!==c("WAWebChatlistPanelMode").CommandPalette)return[];a=d("WAWebChatCollection").ChatCollection.filter(function(a){var c;return((c=a.groupMetadata)==null?void 0:c.groupType)===d("WAWebGroupType").GroupType.COMMUNITY&&a.formattedTitle.toLowerCase().includes(b)});return a};f.getFilteredActions=function(a){a=(a||"").trim();return!a||f.props.mode!==c("WAWebChatlistPanelMode").CommandPalette?[]:d("WAWebCommandCollection").CommandCollection.query({query:a,type:"action"})};f.getFilteredDebugCommands=function(a){a=(a||"").trim();return!a||f.props.mode!==c("WAWebChatlistPanelMode").CommandPalette||!d("WAWebClientFeatureFlags").isFeatureEnabled("debug_commands")?[]:(a=b("cr:5923")==null?void 0:b("cr:5923").query(a||"").slice(0,3))!=null?a:[]};f.getFilteredSettings=function(a){a=(a||"").trim();return!a||f.props.mode!==c("WAWebChatlistPanelMode").CommandPalette?[]:d("WAWebCommandCollection").CommandCollection.query({query:a,type:"setting"})};f.$32=function(a){a===void 0&&(a={});if(f.$49(a))return;if(!a.label)return;a=((a=d("WAWebLabelCollection").LabelCollection.get(a.label))==null?void 0:a.labelItemCollection.filter(function(a){return a.parentType===d("WAWebBizLabelItemParentType").LabelItemParentType.Msg}).map(function(a){return a.parentId}))||[];d("WAWebMsgCollection").MsgCollection.getMessagesById(a).then(function(a){f.setState({messages:a.messages})})};f.$28=function(a,b,e){b===void 0&&(b={});e=(e=e)!=null?e:{};e=e.includeActiveChat;var g=e===void 0?!1:e,h=(a||"").trim();if(h||!f.$49(b)){h=c("WAWebL10N").accentFold(h);var i=d("WAWebPhoneNumberSearch").numberSearch(h);return d("WAWebChatCollection").ChatCollection.filter(function(a){if(!a.shouldAppearInList)return!1;var e=b.label&&a.contact.searchMatch(h,i,b.label),j=!h||a.contact.searchMatch(h,i),k=!b.kind&&!b.label||d("WAWebChatMessageSearch").matchFilter(a,b),l=[d("WAWebChatSearchFilters").SearchFilters.UNREAD].concat(d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()?[d("WAWebChatSearchFilters").SearchFilters.CONTACT,d("WAWebChatSearchFilters").SearchFilters.GROUP,d("WAWebChatSearchFilters").SearchFilters.FAVORITES]:[]).includes(b.kind)&&a.archive,m=g&&f.selection.getVal()===a,n=!1;a.isGroup&&(n=c("WANullthrows")(a.groupMetadata).isUnnamed&&d("WAWebParticipantListUtils").calculateUnnamedGroupFullParticipantsList(c("WANullthrows")(a.groupMetadata)).includes(h));return e||j&&k&&!l||m||n&&k})}return d("WAWebChatCollection").ChatCollection.filter(function(a){return!a.archive&&a.shouldAppearInList})};f.fullTextSearch=function(a,b){a=a||f.searchQuery.query;c("WAFtsIsSearchQueryEligibleForMessageSearch")(a)||(b==null?void 0:b.label)?(f.state.searching||f.debounceSetState({searching:!0}),f.$4()):f.isFTSSearching()?f.$47():f.ftsMsgs.reset()};f.shouldFTSSearch=function(a){return!f.ftsMsgs.hasMoreMsgs||f.isFTSSearching()||!c("WAFtsIsSearchQueryEligibleForMessageSearch")(f.searchQuery.query||"")?!1:a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight};f.$30=function(a,b){var c=new Map(),e=function(d){var e=a[d];e&&e.forEach(function(a){a&&(c.has(a)||c.set(a,[]),c.get(a).push(b[d]))})};for(var f=0;f<a.length;f++)e(f);var g=[];c.forEach(function(a,b){g.push([b,a])});g.sort(function(a,b){if(a[1].length===b[1].length){if(a[0].t!=null&&b[0].t!=null)return b[0].t-a[0].t;else if(a[0].t!=null)return-1;return 1}return b[1].length-a[1].length});return g.slice(0,d("WAWebABProps").getABPropConfigValue("web_max_found_common_groups_displayed"))};f.$35=function(a,b){f.$15(a);if(!a&&f.$49(b)){f.searchQuery.updateQuery(a);f.searchQuery.updateLabelQuery({});f.$40();return}var c=f.searchQuery.query;if(f.searchQuery.equals(a,b))return;f.searchQuery.updateQuery(a);f.searchQuery.updateLabelQuery(b);f.$34()?(f.fullTextSearch(a,b),f.$14(),f.$7(a,b),f.$8(a,b),f.$9(a),f.$10(a),f.$11(a),f.$12(a)):(c&&!a&&f.$40(),f.debounceSetState({chats:f.$28(void 0,b)}))};f.$50=function(){return!!f.searchQuery.query};f.isFTSSearching=function(){var a=f.$3;return"searching"in a?a.searching:f.state.searching};f.$47=function(){var a;f.$4.cancel();f.$14.cancel();f.ftsMsgs.resetSearch();f.ftsMsgs.reset();(a=f.$6)==null?void 0:a.abort();(a=f.$17)==null?void 0:a.abort();f.setState({commonGroups:[]});f.isFTSSearching()&&f.debounceSetState({searching:!1},s)};f.$48=function(){f.$7.cancel(),f.$8.cancel(),f.$9.cancel(),f.$11.cancel(),f.$12.cancel(),f.$13.cancel()};f.$40=function(){return new(i||(i=b("Promise")))(function(a){f.$49(f.searchQuery.filter)||d("WAWebFilterLogging").logSearchWithFilterEvent(f.$22.sessionId),f.$47(),f.searchQuery.clear(),f.$48(),f.refSearch!=null&&f.refSearch.clearSearch(),f.setState({chats:f.$28(),contacts:f.getFilteredContacts(),actions:f.getFilteredActions(),debugCommands:f.getFilteredDebugCommands(),communities:f.getFilteredCommunities(),settingsCommands:f.getFilteredSettings(),searching:!1},function(){return a()})})};f.$51=function(a){a==null?void 0:a.preventDefault(),c("WAWebFocusIndicator").shouldIndicateFocus(),c("WAWebFocusTracer").focus(f.$18.current)};f.$52=function(a){if(!f.$21.current)return;a==null?void 0:a.preventDefault();c("WAWebFocusIndicator").shouldIndicateFocus();(a=f.$21.current)==null?void 0:a.focusFirst()};f.$53=function(a){if(a.repeat)return;if(f.refSearch&&!f.refSearch.cursorIsAtEnd())return;d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()?f.$51(a):f.$52(a)};f.$54=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield d("WAWebChatlistUtils").openChat(b.id,c),f.$55("message",b)});return function(b,c,d){return a.apply(this,arguments)}}();f.$56=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield d("WAWebChatlistUtils").openChat(b.id),b.isBroadcast?f.$55("broadcast_list",b):b.isGroup?(new(d("WAWebCommunityGroupJourneyEventImpl").CommunityGroupJourneyEvent)({action:d("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES.GROUP_NAVIGATION,surface:d("WAWebWamEnumSurfaceType").SURFACE_TYPE.CHATLIST,chat:b}).commit(),f.$55("group",b)):f.$55("chat",b)});return function(b,c){return a.apply(this,arguments)}}();f.$57=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("WAWebChatlistUtils").openChat(b.id));f.$55("contact",a)});return function(b,c){return a.apply(this,arguments)}}();f.$58=function(a,e,g){a.preventDefault();a.stopPropagation();f.props.mode===c("WAWebChatlistPanelMode").CommandPalette&&d("WAWebModalManager").ModalManager.close();if(e instanceof d("WAWebMsgModel").Msg){var h=d("WAWebFrontendMsgGetters").getChat(e),i=d("WAWebChatMessageSearch").getSearchContext(h,e);i.msg=e;f.$54(a,h,i)}else if(e instanceof d("WAWebChatModel").Chat){g!=null?f.$54(a,e,g):((h=e.groupMetadata)==null?void 0:h.groupType)===d("WAWebGroupType").GroupType.COMMUNITY?d("WAWebCmd").Cmd.openCommunityHome(e.id,!1):f.$56(a,e)}else if(e instanceof c("WAWebContactModel"))f.$57(a,e);else if(e instanceof c("WAWebCommandModel"))switch(e.type){case"setting":d("WAWebDrawerManager").DrawerManager.openDrawerLeft(m.jsx(d("WAWebSettingsFlowLoadable").SettingsFlowLoadable,{initialStep:d("WAWebSettingsConst").SettingsSteps.cast(e.id)}));break;case"action":c("WAWebKeyboardRun")(e.name);break}else!c("gkx")("26258")&&b("cr:5932")&&e instanceof b("cr:5932")&&(o==null?void 0:o(e))};f.$59=function(a){var b,c=f.searchQuery.query,d=f.searchQuery.filter;c=(b=(b=(b=(b=(b=(b=f.getFilteredDebugCommands(c)[0])!=null?b:f.getFilteredActions(c)[0])!=null?b:f.getFilteredSettings(c)[0])!=null?b:f.getFilteredCommunities(c)[0])!=null?b:f.$28(c,d)[0])!=null?b:f.getFilteredContacts({searchText:c,filter:d})[0])!=null?b:f.ftsMsgs.at(0);if(!c)return;f.$58(a,c)};f.$39=function(){d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(a){if(a&&f.props.mode!==c("WAWebChatlistPanelMode").CommandPalette)return;c("WAWebFocusIndicator").shouldIndicateFocus();c("WAWebFocusTracer").focus(f.refSearch)})};f.indicateFocus=function(){c("WAWebFocusIndicator").maybeIndicateFocus(f.$19)};f.$60=function(a){f.$13(a.target)};f.getEmptyChatlistState=function(a){var b=f.state,c=b.chats,e=b.contacts,g=b.messages,h=b.communities,i=b.debugCommands,j=b.actions;b=b.settingsCommands;if((c==null?void 0:c.length)||(e==null?void 0:e.length)||a.length||(g==null?void 0:g.length)||(h==null?void 0:h.length)||(i==null?void 0:i.length)||(j==null?void 0:j.length)||(b==null?void 0:b.length))return null;if(f.props.labelFilter)return f.state.searching?m.jsx("span",{}):m.jsx(d("WAWebEmptyState.react").NoResultForLabel,{labelId:f.props.labelFilter});if(f.searchQuery.query)return f.state.searching?m.jsx(d("WAWebEmptyState.react").Searching,{}):m.jsx(d("WAWebEmptyState.react").Search,{hasFilter:f.searchQuery.hasFilter(),onClearFilter:f.$61});if(!f.$34()&&d("WAWebChatSearchFilters").SearchFilters.FAVORITES===f.searchQuery.filter.kind&&d("WAWebInboxFiltersGatingUtils").inboxFavoritesManagementEnabled())return m.jsx(d("WAWebEmptyState.react").NoFavoriteChats,{});if(!f.$34()&&[d("WAWebChatSearchFilters").SearchFilters.UNREAD,d("WAWebChatSearchFilters").SearchFilters.ASSIGNED_TO_YOU].concat(d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()?[d("WAWebChatSearchFilters").SearchFilters.FAVORITES,d("WAWebChatSearchFilters").SearchFilters.CONTACT,d("WAWebChatSearchFilters").SearchFilters.GROUP,d("WAWebChatSearchFilters").SearchFilters.LABELS]:[]).includes(f.searchQuery.filter.kind)&&f.searchQuery.filter.kind!=null)return m.jsx(d("WAWebEmptyState.react").NoFilteredChats,{filter:f.searchQuery.filter.kind,label:f.searchQuery.filter.label,onClearFilter:f.$61,filterSession:f.$22});return d("WAWebChatCollection").ChatCollection.some(function(a){return a.shouldAppearInList})?m.jsx(d("WAWebEmptyState.react").AllArchived,{}):m.jsx(d("WAWebEmptyState.react").ListChats,{})};f.$62=function(a){f.$1=a};f.$61=function(){var a;(a=f.refSearch)==null?void 0:a.clearFilter()};f.$63=function(){f.setState({showMultiSelectBar:!1}),f.$2&&f.$2.unsetAll(),f.selectableState&&f.selectableState.setSelectable(!!f.props.selectable),f.props.endMultiSelect==null?void 0:f.props.endMultiSelect()};f.$55=function(a,b){b!=null&&d("WAWebContactGetters").getIsMe(b.contact)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(b,f.$34());if(d("WAWebBizGatingUtils").smartFiltersEnabled()&&(!f.props.labelFilter&&(!f.$49(f.searchQuery.filter)||f.$50()))){var c=f.searchQuery.filter,e=f.$22.sessionId;d("WAWebFilterLogging").logSearchItemSelectedFilterEvent(e,c,a);b&&d("WAWebComposeBoxActions").ComposeBoxActions.addMsgSendingLogAttributes(b,{handleOnce:function(){d("WAWebFilterLogging").logSearchMsgSentFilterEvent(e,c,a)}})}};f.$44=function(a){a===void 0&&(a=!1);if(!f.searchQuery.filter.kind)return;if(a&&f.$27)return;var e=f.props.getUnmountSignal();a=new(i||(i=b("Promise")))(function(a){self.setTimeout(function(){return d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(a)},0)});var g=new i(function(a){self.setTimeout(function(){return d("WAWebModalManager").ModalManager.exists(a)},0)}),h=new i(function(a){self.setTimeout(function(){return d("WAWebModalManager").ModalManager.existsMedia(a)},0)});i.all([a,g,h]).then(function(a){var b=a[0],g=a[1];a=a[2];if(e.aborted)return;b=b||g||a;if(b)f.$27=!0;else if(f.$27){f.$27=!1;if(f.$26!=null){g=Date.now()-c("WANullthrows")(f.$26);a=d("WAWebABProps").getABPropConfigValue("inbox_filters_reset_timeout")*1e3;g>=a&&f.$35(f.searchQuery.query,{kind:null})}}})["catch"](function(){})};f.ftsMsgs=new(c("WAWebFtsMsgsCollection"))();f.selection=new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()});f.searchQuery=new(d("WAWebChatSearchQuery").SearchQuery)();f.$2=f.props.multiSelection||new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()});f.$4=f.props.debounce(function(){var a;f.props.labelFilter||f.logSearchEvent();var e=f.searchQuery.trimmed();(a=f.$6)==null?void 0:a.abort();f.$6=new AbortController();a=f.$6.signal;var g=f.props.getUnmountSignal(),h=(i||(i=b("Promise"))).resolve().then(function(){f.isFTSSearching()||f.debounceSetState({searching:!0},s)}).then(function(){return f.ftsMsgs.search({count:d("WAWebFtsConstants").FTS_NUM_RESULTS,filter:f.searchQuery.filter,searchTerm:e})});f.$5=c("WAPromiseRaceAbort")(h,a).then(function(a){if(g.aborted)return;a&&!a.canceled&&f.debounceSetState({searching:!1},s)})["catch"](d("WAAbortError").catchAbort(function(){}))["finally"](function(){f.$5=void 0,f.$6=void 0})["catch"](function(){f.isFTSSearching()&&f.debounceSetState({searching:!1},s)})},d("WAWebFtsConstants").FTS_TYPING_DELAY);f.$7=f.props.throttle(function(a,b){a=f.$28(a,b);f.debounceSetState({chats:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$8=f.props.throttle(function(a,b){a=f.getFilteredContacts({searchText:a,filter:b});f.debounceSetState({contacts:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$9=f.props.throttle(function(a){a=f.getFilteredActions(a);f.debounceSetState({actions:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$10=f.props.throttle(function(a){a=f.getFilteredDebugCommands(a);f.debounceSetState({debugCommands:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$11=f.props.throttle(function(a){a=f.getFilteredCommunities(a);f.debounceSetState({communities:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$12=f.props.throttle(function(a){a=f.getFilteredSettings(a);f.debounceSetState({settingsCommands:a},s,r)},p.THROTTLE,{leading:!1,trailing:!0});f.$13=f.props.throttle(function(a){f.shouldFTSSearch(a)&&f.fullTextSearch()},100);f.$14=c("lodash").debounce(function(){var a,e=f.searchQuery.trimmed();if(!e){f.setState({commonGroups:[]});return}var g=f.searchQuery.filter;if(g.kind===d("WAWebChatSearchFilters").SearchFilters.CONTACT||g.kind===d("WAWebChatSearchFilters").SearchFilters.NON_CONTACT){f.setState({commonGroups:[]});return}var h=f.getFilteredContacts({searchText:e,filter:g,includeChats:!0,includeNonContacts:!0});g=d("WAWebABProps").getABPropConfigValue("web_max_contacts_to_show_common_groups");if(h.length===0||h.length>g){f.setState({commonGroups:[]});return}g=c("lodash").map(h,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAWebFindCommonGroupsContactAction").findCommonGroups(a);return a.commonGroups}catch(a){d("WALogger").ERROR(l()).verbose().devConsole(a).sendLogs("get from participants table failed when finding common groups: "+a);throw c("err")("get from participants table failed")}});return function(b){return a.apply(this,arguments)}}());(a=f.$17)==null?void 0:a.abort();f.$17=new AbortController();a=f.$17.signal;f.$16=c("WAPromiseRaceAbort")((i||(i=b("Promise"))).all(g),a).then(function(a){if(e===f.searchQuery.trimmed()){a=f.$30(a,h);f.setState({commonGroups:a})}})["catch"](function(){})["finally"](function(){f.$16=null,f.$17=null})},750);f.$15=c("lodash").debounce(function(a){void f.$31(a)},1e3);e=f.props;var g=e.labelFilter;e=e.multiSelectEntryPoint;g=f.props.labelFilter?{label:g}:void 0;f.state=babelHelpers["extends"]({searching:!1,chats:f.$28("",g),contacts:f.getFilteredContacts({searchText:"",filter:g}),actions:f.getFilteredActions(""),debugCommands:f.getFilteredDebugCommands(""),communities:f.getFilteredCommunities(""),settingsCommands:f.getFilteredSettings(""),commonGroups:[],showMultiSelectBar:!1,multiSelectEntryPoint:e,chatlistKeyId:0,filterPreset:g,textsize:c("WAWebContentSettings").get().textsize,isOverflowing:!1,lockedChatsEntryPointVisible:!1},{},{showOfflineToastbar:d("WAWebOfflineHandler").OfflineMessageHandler.getResumeUIProgressBarType()===d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.Toastbar});f.searchQuery.updateLabelQuery(g);f.$32(g);return f}var f=e.prototype;f.$34=function(){return Boolean(this.searchQuery.query)};f.componentDidMount=function(){var a=this,b=this.props,e=b.labelFilter,f=b.listeners;b=b.mode;b===c("WAWebChatlistPanelMode").CommandPalette&&(d("WAWebCommandCollection").CommandCollection.reset(),d("WAWebCommandCollection").CommandCollection.initializeCommands());e&&this.$35("",{label:e});this.$36();f.add(d("WAWebChatCollection").ChatCollection,"remove",function(b){if(a.searchQuery.query){b=c("lodash").without(a.state.chats,b);a.state.chats&&b.length!==a.state.chats.length&&a.debounceSetState({chats:b})}else a.$7.cancel(),a.debounceSetState({chats:a.$28(void 0,a.searchQuery.filter)})});f.add(d("WAWebContactCollection").ContactCollection,"remove",function(b){if(a.$34()){b=c("lodash").without(a.state.contacts,b);a.state.contacts&&b.length!==a.state.contacts.length&&a.debounceSetState({contacts:b})}else a.$8.cancel(),a.debounceSetState({contacts:a.getFilteredContacts({searchText:void 0,filter:a.searchQuery.filter})})});d("WAWebChatAssignmentUtils").canAssignChats()&&f.add(d("WAWebChatAssignmentCollection").ChatAssignmentCollection,"add remove",function(b){if(a.searchQuery.filter.kind===d("WAWebChatSearchFilters").SearchFilters.ASSIGNED_TO_YOU)if(a.searchQuery.query){b=c("lodash").without(a.state.chats,b);a.state.chats&&b.length!==a.state.chats.length&&a.debounceSetState({chats:b})}else a.$7.cancel(),a.debounceSetState({chats:a.$28(void 0,a.searchQuery.filter)})});var g=this.props.throttle(function(b){if(a.$34()||a.searchQuery.filter.kind!==d("WAWebChatSearchFilters").SearchFilters.UNREAD&&(!d("WAWebChatAssignmentUtils").canAssignChats()||a.searchQuery.filter.kind!==d("WAWebChatSearchFilters").SearchFilters.ASSIGNED_TO_YOU))return;a.$7.cancel();var c=a.$28(void 0,a.searchQuery.filter,{includeActiveChat:!0});b&&(c=c.filter(function(a){return a!==b}));a.debounceSetState({chats:c})},p.THROTTLE);f.add(d("WAWebChatCollection").ChatCollection,"sort change:archive",function(){if(a.$34())return;if(a.searchQuery.filter.kind===d("WAWebChatSearchFilters").SearchFilters.UNREAD){g();return}a.$7.cancel();a.debounceSetState(babelHelpers["extends"]({chats:a.$28(void 0,a.searchQuery.filter)},void 0))});f.add(d("WAWebChatCollection").ChatCollection,"change:unreadCount change:isAssignedToMe",function(){return g()});f.add(d("WAWebCmd").Cmd,"close_chat",function(a){g(a)});f.add(d("WAWebCmd").Cmd,"offline_progress_update offline_delivery_end",function(){return a.$38()});f.add(d("WAWebContactCollection").ContactCollection,"sort",function(){if(a.$34())return;a.$8.cancel();a.debounceSetState({contacts:a.getFilteredContacts({filter:a.searchQuery.filter})})});f.add(this.ftsMsgs,"bulk_remove reset",function(){if(a.$34())return;a.$7.cancel();a.debounceSetState({chats:a.$28(void 0,a.searchQuery.filter)})});f.add(d("WAWebCmd").Cmd,"focus_chat_search",this.$39);f.add(d("WAWebCmd").Cmd,"textsize_change",function(b){a.debounceSetState({textsize:b})});f.add(d("WAWebMsgCollection").MsgCollection,c("WAWebConstantsDeprecated").NEW_MSG_SENT,function(){a.$34()?a.$40().then(function(){return a.$41()}):a.$41()});this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&d("WAWebABProps").getABPropConfigValue("inbox_filters_reset_timeout")>0&&d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()&&(f.add(d("WAWebDrawerManager").DrawerManager,"open_drawer_left",function(){return a.$44(!0)}),f.add(d("WAWebDrawerManager").DrawerManager,"close_drawer_left",function(){return a.$44()}),f.add(d("WAWebModalManager").ModalManager,"open_modal open_media",function(){return a.$44(!0)}),f.add(d("WAWebModalManager").ModalManager,"close_modal close_media",function(){return a.$44()}));d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled()&&f.add(d("WAWebChatCollection").ChatCollection,"change:contact.labels",function(){a.searchQuery.filter.kind===d("WAWebChatSearchFilters").SearchFilters.LABELS&&a.searchQuery.filter.label!=null&&(a.$7.cancel(),a.debounceSetState({chats:a.$28(void 0,a.searchQuery.filter)}))});d("WAWebInboxFiltersGatingUtils").inboxFavoritesEnabled()&&f.add(d("WAWebChatCollection").ChatCollection,"change:isFavorite",function(){a.searchQuery.filter.kind===d("WAWebChatSearchFilters").SearchFilters.FAVORITES&&(a.$7.cancel(),a.debounceSetState({chats:a.$28(void 0,a.searchQuery.filter)}))})};f.getClientWidth=function(){var a;return(a=this.$23.current)==null?void 0:a.clientWidth};f.isCommandPaletteOverflowing=function(){if(!this.$23.current)return!1;var a=this.$23.current.clientHeight,b=window.innerHeight;return a>=Math.floor(b*q)};f.containsDOMNode=function(a){return!this.$23.current?!1:this.$23.current.contains(a)};f.$37=function(){var a;return!1;var b=this.state.unreadButton===!0;if(this.$25&&!(d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&((a=this.$25)==null?void 0:a.archive))){var c=d("WAWebChatCollection").ChatCollection.indexOf(this.$25);this.$24=(c+.5)*d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT;b||(b=this.$1!=null&&this.$1.scrollTop>this.$24);this.$25=void 0}return b};f.$29=function(){this.state.unreadButton===!0&&(this.$25=void 0,this.setState({unreadButton:!1}))};f.componentWillUnmount=function(){this.$47(),this.$48(),this.$33.cancel()};f.$31=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(this.props.hideLockedChats!==!0)return;a=(yield d("WAWebChatLockUtils").validateSecretCode(a,{unlockApp:!0}));!a&&this.state.lockedChatsEntryPointVisible&&!d("useWAWebChatLockRestriction").chatLockComponentIsMounted()&&d("WAWebChatLockUtils").lockChats();this.debounceSetState({lockedChatsEntryPointVisible:a})});function c(b){return a.apply(this,arguments)}return c}();f.$49=function(a){return!a||!!(!a.label&&!a.kind)};f.$64=function(){return!1};f.$65=function(){return Boolean(this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&this.props.showArchiveV2===!0&&!this.state.showMultiSelectBar&&this.searchQuery.isEmptyQuery()&&!this.searchQuery.hasFilter()&&this.state.chats&&this.state.chats.length>0&&d("WAWebChatCollection").ChatCollection.some(function(a){return a.archive&&a.shouldAppearInList}))};f.$66=function(){return d("WAWebChatLockGatingUtils").chatLockEnabled()&&!d("WAWebChatLockGatingUtils").chatLockSideNavEnabled()&&d("WAWebChatLockUtils").shouldShowChatLockEntryPoints()&&(this.props.hideLockedChats!==!0&&this.searchQuery.isEmptyQuery()&&!this.searchQuery.hasFilter()||this.state.lockedChatsEntryPointVisible)&&this.props.mode===c("WAWebChatlistPanelMode").Chatlist&&!this.state.showMultiSelectBar};f.logSearchEvent=function(){d("WAWebBizGatingUtils").smartFiltersEnabled()&&d("WAWebFilterLogging").logSearchFilterEvent(this.$22.sessionId,this.searchQuery.filter)};f.$38=function(){this.debounceSetState({showOfflineToastbar:d("WAWebOfflineHandler").OfflineMessageHandler.getResumeUIProgressBarType()===d("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.Toastbar})};f.componentDidUpdate=function(){if(this.props.mode===c("WAWebChatlistPanelMode").CommandPalette){var a=this.isCommandPaletteOverflowing();a!==this.state.isOverflowing&&this.setState({isOverflowing:a})}};f.$67=function(){if(this.$50())return!0;var a=d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled();if(a===!1&&this.searchQuery.hasLabelFilter())return!0;if(this.searchQuery.filter.kind==null)return!1;a=a?d("WAWebChatSearchFilters").isFilterExcludedFromSearchTreatmentInInboxFlow:d("WAWebChatSearchFilters").isFilterExcludedFromSearchTreatmentInNormalFlow;return!a(this.searchQuery.filter.kind)?!0:!1};f.render=function(){var a=this,b=this.state,e=b.chats,f=b.contacts,g=b.commonGroups,i=b.actions,j=b.debugCommands,k=b.communities,l=b.settingsCommands,n=b.filterPreset,o=b.messages;b=b.isOverflowing;var p=this.props.mode,q=this.ftsMsgs.toArray(),r=this.getEmptyChatlistState(q),s,t=d("WAWebInboxFiltersGatingUtils").inboxFiltersEnabled(),u=this.$67();if(r==null&&(p===c("WAWebChatlistPanelMode").Chatlist||p===c("WAWebChatlistPanelMode").CommandPalette&&this.searchQuery.query.length>0)){r=m.jsx(c("WAWebChatlist.react"),{ref:this.$21,flatListController:this.flatListController,chats:e,contacts:f||[],messages:o||[],actions:i||[],debugCommands:j||[],communities:k||[],settings:l||[],filterPreset:n,commonGroups:g,isSearching:u,isSearchInputFocused:!!((f=this.refSearch)==null?void 0:f.hasFocus()),searchQuery:this.searchQuery,ftsResult:q,selection:this.selection,onFocusSearch:this.$39,onFocusFilters:this.$51,multiSelection:this.$2,onStartMultiSelect:this.$46,selectableState:this.selectableState,onItemClick:this.$58,mode:p},this.state.chatlistKeyId)}this.state.showOfflineToastbar===!0&&(s=m.jsx(d("WAWebOfflineResumeProgressToastbar.react").WAWebOfflineResumeProgressToastbar,{}));s==null&&r!=null&&p===c("WAWebChatlistPanelMode").Chatlist&&(s=this.$34()?m.jsx(d("WAWebDesktopUpsellSearchToastbar.react").WAWebDesktopUpsellSearchToastbar,{}):m.jsx(d("WAWebDesktopUpsellChatlistToastbar.react").WAWebDesktopUpsellChatlistToastbar,{}));o={down:this.$53};i=this.state.searching&&this.props.labelFilter||this.state.searching&&this.ftsMsgs.length?m.jsx("div",{className:c("WAWebChatlistPanel.scss").spinner,children:m.jsx(d("WAWebSpinner.react").Spinner,{stroke:6,size:24})},"spinner"):null;j=d("WAWebChatlistUtils").getTextsizeClassForScale(this.state.textsize);k=p===c("WAWebChatlistPanelMode").CommandPalette;n=d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebChatlistPanel.scss").chatListPanel,j,(l={},l[c("WAWebChatlistPanel.scss").commandPaletteContainer]=k,l[c("WAWebChatlistPanel.scss").overflow]=k&&b,l[c("WAWebChatlistPanel.scss").noOverflow]=k&&!b,l));g=this.ftsMsgs.hasMoreMsgs&&q.length||this.$64()?this.$60:void 0;var v;f=null;var w,x,y;this.state.showMultiSelectBar||this.state.multiSelectEntryPoint===d("WAWebMultiSelectEntryPointConstants").MultiSelectEntryPoint.ChatListHeaderDropdown?v=m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MultiSelect",escapable:!0,dismissOnWindowResize:!0,requestDismiss:this.$63,children:d("WAWebConnModel").Conn.isSMB?m.jsx(c("WAWebMixedMultiSelectBar.react"),{theme:"chatlist-panel",selectedModels:this.$2,labelEditEnabled:this.state.multiSelectEntryPoint===d("WAWebMultiSelectEntryPointConstants").MultiSelectEntryPoint.Label,multiSelectEntryPoint:this.state.multiSelectEntryPoint,onCancel:this.$63}):m.jsx(c("WAWebConsumerMultiSelectBar.react"),{selectedModels:this.$2,onCancel:this.$63})},"multiSelectBar"):(w=m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:o,onFocus:this.indicateFocus,ref:this.$20,className:c("WAWebChatlistPanel.scss").panelSearch,children:m.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:this.setRefSearch,onSearch:this.$35,onEnter:this.$59,loading:this.state.searching,filterSession:this.$22,listFilterEnabled:p===c("WAWebChatlistPanelMode").Chatlist&&!t,chatlistFilterEnabled:p===c("WAWebChatlistPanelMode").Chatlist&&!t,inboxFiltersEnabled:p===c("WAWebChatlistPanelMode").Chatlist&&t,inboxFilter:this.searchQuery.filter,focusOnMount:p===c("WAWebChatlistPanelMode").CommandPalette,mode:p,placeholder:h._("__JHASH___ZLaVHw0Y6j__JHASH__")})},"ListSearchHotKey"),p===c("WAWebChatlistPanelMode").Chatlist&&t&&(x=m.jsx(d("WAWebChatListFilters.react").ChatListFilters,{ref:this.$18,filter:this.searchQuery.filter,filterSession:this.$22,onFilterChange:function(b){a.$26=b.kind==null?void 0:Date.now(),a.$35(a.searchQuery.query,b)},onPrevControl:this.$39,onNextControl:this.$52})));if(!this.props.labelFilter){var z;j=k||u||v?null:m.jsx(c("WAWebChatlistBanners.react"),{});f=m.jsxs(m.Fragment,{children:[w,x,j,v,null]})}this.$65()&&(y=m.jsx(c("WAWebChatArchivedEntryPoint.react"),{}));var A;this.$66()&&(A=m.jsx(c("WAWebChatLockedEntryPoint.react"),{}));var B;s==null&&(this.$50()||this.searchQuery.hasLabelFilter())&&(B=m.jsx(d("WAWebHistorySyncComponents.react").HistorySyncSearchIncompletePlaceholder,{}));l=(b=e==null?void 0:e.length)!=null?b:0;q=d("WAWebMiscGatingUtils").isPrivacyNarrativeV1Enabled()&&l>0?m.jsx(d("WAWebPrivacyNarrativeE2EMessage.react").E2eMessageChatList,{}):null;return m.jsx(d("WAWebMaybeStrictMode").MaybeStrictMode,{children:m.jsxs("div",{id:"side",className:n,ref:this.$23,children:[m.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"app-header",children:f}),m.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"chat-list",children:m.jsxs(c("WAWebFlatListContainer.react"),{flatListControllers:[this.flatListController],ref:this.$62,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(c("WAWebChatlistPanel.scss").panelBody,(o={},o[c("WAWebChatlistPanel.scss").commandPalette]=p===c("WAWebChatlistPanelMode").CommandPalette,o)),onScroll:g,id:"pane-side",children:[A,!d("WAWebTopMenuRedesignGatingUtils").topMenuRedesignEnabled()&&y,r,i,p===c("WAWebChatlistPanelMode").Chatlist&&((t=B)!=null?t:q)]})}),d("WAWebServerPropsModel").ServerProps.pttOotPlayback&&m.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"out-of-chat-player",children:m.jsx(d("WAWebPttOocPlayer").OutOfChatPlayer,{})}),m.jsx(d("WAWebErrorBoundary.react").ErrorBoundary,{name:"chat-list-toastbar",children:(k=s)!=null?k:null})]})})};return e}(e);f=c("WAWebUnmountSignalHoc.react")(c("WAWebTimerHoc.react")(d("WAWebListenerHoc").ListenerHOC(a)));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getClientWidth=function(){return this.getComponent().getClientWidth()};c.containsDOMNode=function(a){return this.getComponent().containsDOMNode(a)};return b}(f);g.ChatlistPanel=e}),98);